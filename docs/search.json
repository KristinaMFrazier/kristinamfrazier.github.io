[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Kristina Frazier",
    "section": "",
    "text": "Kristina Frazier is a data scientist and analytics engineer with a background in urban planning and a passion for using data to solve real-world problems.\nShe brings a decade of interdisciplinary experience across the public, private, and nonprofit sectors, blending statistical modeling, data engineering, and strategic storytelling to deliver actionable insights. Kristina specializes in SQL, Python, R, and tools like Databricks, Snowflake, Looker, and Qlik.\nCurrently a Lead Data Scientist at Booz Allen Hamilton, she supports federal clients in advancing mission readiness through data. Kristina holds a Master of Science in Data Science from American University."
  },
  {
    "objectID": "index_old.html",
    "href": "index_old.html",
    "title": "my_website",
    "section": "",
    "text": "Market Value Research Tool\n\n\n\n\n\n\nanalysis\n\n\nr\n\n\npython\n\n\napi\n\n\nregression\n\n\nmachine learning\n\n\ngit\n\n\ngithub\n\n\ndata visualization\n\n\netl\n\n\n\n\n\n\n\n\n\nMay 5, 2025\n\n\nKristina Frazier\n\n\n\n\n\n\n\n\n\n\n\n\nCustomer Churn Modeling with R\n\n\n\n\n\n\nanalysis\n\n\nr\n\n\nclassification\n\n\nmachine learning\n\n\ndata visualization\n\n\nLinear Discriminant Analysis\n\n\nRandom Forest\n\n\nLogistic Regression\n\n\n\n\n\n\n\n\n\nMay 5, 2025\n\n\nKristina Frazier & Lauren Manturi\n\n\n\n\n\n\n\n\n\n\n\n\nNHL Majority Goal Win Classification\n\n\n\n\n\n\nanalysis\n\n\nr\n\n\nclassification\n\n\nmachine learning\n\n\nLinear Discriminant Analysis\n\n\nQuadratic Discriminant Analysis\n\n\nLogistic Regression\n\n\nK-Nearest Neighbors\n\n\n\n\n\n\n\n\n\nMay 5, 2025\n\n\nKristina Frazier & Mike McHenry\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/post-with-code/index.html",
    "href": "posts/post-with-code/index.html",
    "title": "Post With Code",
    "section": "",
    "text": "This is a post with executable code.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Welcome To My Blog",
    "section": "",
    "text": "This is the first post in a Quarto blog. Welcome!\n\nSince this post doesn’t specify an explicit image, the first image in the post will be used in the listing page of posts."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "portfolio.html",
    "href": "portfolio.html",
    "title": "My Portfolio",
    "section": "",
    "text": "Market Value Research Tool\n\n\n\n\n\n\nanalysis\n\n\nr\n\n\npython\n\n\napi\n\n\nregression\n\n\nmachine learning\n\n\ngit\n\n\ngithub\n\n\ndata visualization\n\n\netl\n\n\n\n\n\n\n\n\n\nMay 5, 2025\n\n\nKristina Frazier\n\n\n\n\n\n\n\n\n\n\n\n\nCustomer Churn Modeling with R\n\n\n\n\n\n\nanalysis\n\n\nr\n\n\nclassification\n\n\nmachine learning\n\n\ndata visualization\n\n\nLinear Discriminant Analysis\n\n\nRandom Forest\n\n\nLogistic Regression\n\n\n\n\n\n\n\n\n\nMay 5, 2025\n\n\nKristina Frazier & Lauren Manturi\n\n\n\n\n\n\n\n\n\n\n\n\nNHL Majority Goal Win Classification\n\n\n\n\n\n\nanalysis\n\n\nr\n\n\nclassification\n\n\nmachine learning\n\n\nLinear Discriminant Analysis\n\n\nQuadratic Discriminant Analysis\n\n\nLogistic Regression\n\n\nK-Nearest Neighbors\n\n\n\n\n\n\n\n\n\nMay 5, 2025\n\n\nKristina Frazier & Mike McHenry\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/reseller/index.html",
    "href": "posts/reseller/index.html",
    "title": "Market Value Research Tool",
    "section": "",
    "text": "This project, which was completed as a graduate-level degree capstone course, tackles a common headache for secondhand fashion resellers: figuring out how to price an item smartly and competitively. The Market Value Research Tool is a web app that uses live data from eBay’s API, combined with statistical modeling, to provide dynamic price recommendations based on item features, as well market insights about popular brands, pricing trends, and item categories.\n\n\n\n\n\n\n\n\n\n\nBuild overview:\n\nPipeline Development: Python scripts pull daily eBay data, clean it, and store it.\nModel Training & Comparison: Regression models (OLS, Lasso, Ridge, PCR, PLS) were evaluated for prediction accuracy.\nApp Development: A Dash-based UI allows for price predictions and exploratory insights, deployed to Render.\n\nThe public-facing code is available on GitHub, but the live repo is private due to eBay’s API data restrictions."
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html",
    "href": "posts/telco/customerchurn_prelim_da.html",
    "title": "Appendix",
    "section": "",
    "text": "This section is an initial data analysis of all variables as an early assessment of fit for predictive modeling.\n\n\n\nlibrary(tidyverse)\nlibrary(car)\nlibrary(klaR)\nlibrary(lmtest)\nlibrary(car)\nlibrary(ROCR)\nlibrary(MASS)\nlibrary(tree)\nlibrary(randomForest)\n\n\nchurn &lt;- read_csv('WA_Fn-UseC_-Telco-Customer-Churn.csv')\n# look at NA values - might be able to compute regression model to impute those values\nglimpse(churn)\n\nRows: 7,043\nColumns: 21\n$ customerID       &lt;chr&gt; \"7590-VHVEG\", \"5575-GNVDE\", \"3668-QPYBK\", \"7795-CFOCW…\n$ gender           &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\",…\n$ SeniorCitizen    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Partner          &lt;chr&gt; \"Yes\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ Dependents       &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\"…\n$ tenure           &lt;dbl&gt; 1, 34, 2, 45, 2, 8, 22, 10, 28, 62, 13, 16, 58, 49, 2…\n$ PhoneService     &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ MultipleLines    &lt;chr&gt; \"No phone service\", \"No\", \"No\", \"No phone service\", \"…\n$ InternetService  &lt;chr&gt; \"DSL\", \"DSL\", \"DSL\", \"DSL\", \"Fiber optic\", \"Fiber opt…\n$ OnlineSecurity   &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"…\n$ OnlineBackup     &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"N…\n$ DeviceProtection &lt;chr&gt; \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"Y…\n$ TechSupport      &lt;chr&gt; \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ StreamingTV      &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"Yes\", \"No\", \"Ye…\n$ StreamingMovies  &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"Yes…\n$ Contract         &lt;chr&gt; \"Month-to-month\", \"One year\", \"Month-to-month\", \"One …\n$ PaperlessBilling &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ PaymentMethod    &lt;chr&gt; \"Electronic check\", \"Mailed check\", \"Mailed check\", \"…\n$ MonthlyCharges   &lt;dbl&gt; 29.85, 56.95, 53.85, 42.30, 70.70, 99.65, 89.10, 29.7…\n$ TotalCharges     &lt;dbl&gt; 29.85, 1889.50, 108.15, 1840.75, 151.65, 820.50, 1949…\n$ Churn            &lt;chr&gt; \"No\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"No\", \"No\", \"Y…\n\n# Removes 21 observations\nchurn &lt;- na.omit(churn)\nglimpse(churn)\n\nRows: 7,032\nColumns: 21\n$ customerID       &lt;chr&gt; \"7590-VHVEG\", \"5575-GNVDE\", \"3668-QPYBK\", \"7795-CFOCW…\n$ gender           &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\",…\n$ SeniorCitizen    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Partner          &lt;chr&gt; \"Yes\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ Dependents       &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\"…\n$ tenure           &lt;dbl&gt; 1, 34, 2, 45, 2, 8, 22, 10, 28, 62, 13, 16, 58, 49, 2…\n$ PhoneService     &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ MultipleLines    &lt;chr&gt; \"No phone service\", \"No\", \"No\", \"No phone service\", \"…\n$ InternetService  &lt;chr&gt; \"DSL\", \"DSL\", \"DSL\", \"DSL\", \"Fiber optic\", \"Fiber opt…\n$ OnlineSecurity   &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"…\n$ OnlineBackup     &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"N…\n$ DeviceProtection &lt;chr&gt; \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"Y…\n$ TechSupport      &lt;chr&gt; \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ StreamingTV      &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"Yes\", \"No\", \"Ye…\n$ StreamingMovies  &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"Yes…\n$ Contract         &lt;chr&gt; \"Month-to-month\", \"One year\", \"Month-to-month\", \"One …\n$ PaperlessBilling &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ PaymentMethod    &lt;chr&gt; \"Electronic check\", \"Mailed check\", \"Mailed check\", \"…\n$ MonthlyCharges   &lt;dbl&gt; 29.85, 56.95, 53.85, 42.30, 70.70, 99.65, 89.10, 29.7…\n$ TotalCharges     &lt;dbl&gt; 29.85, 1889.50, 108.15, 1840.75, 151.65, 820.50, 1949…\n$ Churn            &lt;chr&gt; \"No\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"No\", \"No\", \"Y…\n\nsummary(churn)\n\n  customerID           gender          SeniorCitizen      Partner         \n Length:7032        Length:7032        Min.   :0.0000   Length:7032       \n Class :character   Class :character   1st Qu.:0.0000   Class :character  \n Mode  :character   Mode  :character   Median :0.0000   Mode  :character  \n                                       Mean   :0.1624                     \n                                       3rd Qu.:0.0000                     \n                                       Max.   :1.0000                     \n  Dependents            tenure      PhoneService       MultipleLines     \n Length:7032        Min.   : 1.00   Length:7032        Length:7032       \n Class :character   1st Qu.: 9.00   Class :character   Class :character  \n Mode  :character   Median :29.00   Mode  :character   Mode  :character  \n                    Mean   :32.42                                        \n                    3rd Qu.:55.00                                        \n                    Max.   :72.00                                        \n InternetService    OnlineSecurity     OnlineBackup       DeviceProtection  \n Length:7032        Length:7032        Length:7032        Length:7032       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n TechSupport        StreamingTV        StreamingMovies      Contract        \n Length:7032        Length:7032        Length:7032        Length:7032       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n PaperlessBilling   PaymentMethod      MonthlyCharges    TotalCharges   \n Length:7032        Length:7032        Min.   : 18.25   Min.   :  18.8  \n Class :character   Class :character   1st Qu.: 35.59   1st Qu.: 401.4  \n Mode  :character   Mode  :character   Median : 70.35   Median :1397.5  \n                                       Mean   : 64.80   Mean   :2283.3  \n                                       3rd Qu.: 89.86   3rd Qu.:3794.7  \n                                       Max.   :118.75   Max.   :8684.8  \n    Churn          \n Length:7032       \n Class :character  \n Mode  :character  \n                   \n                   \n                   \n\n\n\n\n\n\ntable(churn$Churn)\n\n\n  No  Yes \n5163 1869 \n\n\nThere are many more observations for customers who did not churn, which may make any model biased towards predicting no churn.\n\n\n\n\n# Select character variables\nnames(churn)[map_lgl(churn, is.character)]\n\n [1] \"customerID\"       \"gender\"           \"Partner\"          \"Dependents\"      \n [5] \"PhoneService\"     \"MultipleLines\"    \"InternetService\"  \"OnlineSecurity\"  \n [9] \"OnlineBackup\"     \"DeviceProtection\" \"TechSupport\"      \"StreamingTV\"     \n[13] \"StreamingMovies\"  \"Contract\"         \"PaperlessBilling\" \"PaymentMethod\"   \n[17] \"Churn\"           \n\n\n\n# create a vector of character variables\nchar_vars &lt;- c(\"gender\",\"Partner\",\"Dependents\",\"PhoneService\",\"MultipleLines\",\"InternetService\",\"OnlineSecurity\",\"OnlineBackup\",\"DeviceProtection\",\"TechSupport\",\"StreamingTV\",\"StreamingMovies\",\"Contract\",\"PaperlessBilling\",\"PaymentMethod\")\n\n\n\nThis section checks to see if there are any categories with very few observations for each of the categorical variables.\n\nfor (var in char_vars) {\n  print(var)\n  print(table(churn[[var]]))\n}\n\n[1] \"gender\"\n\nFemale   Male \n  3483   3549 \n[1] \"Partner\"\n\n  No  Yes \n3639 3393 \n[1] \"Dependents\"\n\n  No  Yes \n4933 2099 \n[1] \"PhoneService\"\n\n  No  Yes \n 680 6352 \n[1] \"MultipleLines\"\n\n              No No phone service              Yes \n            3385              680             2967 \n[1] \"InternetService\"\n\n        DSL Fiber optic          No \n       2416        3096        1520 \n[1] \"OnlineSecurity\"\n\n                 No No internet service                 Yes \n               3497                1520                2015 \n[1] \"OnlineBackup\"\n\n                 No No internet service                 Yes \n               3087                1520                2425 \n[1] \"DeviceProtection\"\n\n                 No No internet service                 Yes \n               3094                1520                2418 \n[1] \"TechSupport\"\n\n                 No No internet service                 Yes \n               3472                1520                2040 \n[1] \"StreamingTV\"\n\n                 No No internet service                 Yes \n               2809                1520                2703 \n[1] \"StreamingMovies\"\n\n                 No No internet service                 Yes \n               2781                1520                2731 \n[1] \"Contract\"\n\nMonth-to-month       One year       Two year \n          3875           1472           1685 \n[1] \"PaperlessBilling\"\n\n  No  Yes \n2864 4168 \n[1] \"PaymentMethod\"\n\nBank transfer (automatic)   Credit card (automatic)          Electronic check \n                     1542                      1521                      2365 \n             Mailed check \n                     1604 \n\n\nWhile there are some variables that have an imbalance of counts for each category, for the most part, every categorical variable has enough observations with in each category.\n\n\n\n\ntable(churn$gender,churn$Churn)\n\n        \n           No  Yes\n  Female 2544  939\n  Male   2619  930\n\nchisq.test(table(churn$gender,churn$Churn)) \n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$gender, churn$Churn)\nX-squared = 0.47545, df = 1, p-value = 0.4905\n\nggplot(churn, aes(x = factor(gender), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Gender\", x = \"Gender\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$SeniorCitizen,churn$Churn)\n\n   \n      No  Yes\n  0 4497 1393\n  1  666  476\n\nchisq.test(table(churn$SeniorCitizen,churn$Churn)) \n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$SeniorCitizen, churn$Churn)\nX-squared = 158.44, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(SeniorCitizen), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by SeniorCitizen Status\", x = \"SeniorCitizen\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$Partner,churn$Churn)\n\n     \n        No  Yes\n  No  2439 1200\n  Yes 2724  669\n\nchisq.test(table(churn$Partner,churn$Churn))\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$Partner, churn$Churn)\nX-squared = 157.5, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(Partner), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Partner Status\", x = \"Partner\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$Dependents,churn$Churn)\n\n     \n        No  Yes\n  No  3390 1543\n  Yes 1773  326\n\nchisq.test(table(churn$Dependents,churn$Churn)) \n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$Dependents, churn$Churn)\nX-squared = 186.32, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(Dependents), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Dependents\", x = \"Dependents\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$PhoneService,churn$Churn)\n\n     \n        No  Yes\n  No   510  170\n  Yes 4653 1699\n\nchisq.test(table(churn$PhoneService,churn$Churn))\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$PhoneService, churn$Churn)\nX-squared = 0.87373, df = 1, p-value = 0.3499\n\nggplot(churn, aes(x = factor(PhoneService), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by PhoneService\", x = \"PhoneService\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$MultipleLines,churn$Churn)\n\n                  \n                     No  Yes\n  No               2536  849\n  No phone service  510  170\n  Yes              2117  850\n\nchisq.test(table(churn$MultipleLines,churn$Churn)) \n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$MultipleLines, churn$Churn)\nX-squared = 11.272, df = 2, p-value = 0.003568\n\nggplot(churn, aes(x = factor(MultipleLines), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by MultipleLines\", x = \"MultipleLines\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$InternetService,churn$Churn)\n\n             \n                No  Yes\n  DSL         1957  459\n  Fiber optic 1799 1297\n  No          1407  113\n\nchisq.test(table(churn$InternetService,churn$Churn)) \n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$InternetService, churn$Churn)\nX-squared = 728.7, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(InternetService), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by InternetService\", x = \"InternetService\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$OnlineSecurity,churn$Churn)\n\n                     \n                        No  Yes\n  No                  2036 1461\n  No internet service 1407  113\n  Yes                 1720  295\n\nchisq.test(table(churn$OnlineSecurity,churn$Churn)) \n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$OnlineSecurity, churn$Churn)\nX-squared = 846.68, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(OnlineSecurity), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by OnlineSecurity\", x = \"OnlineSecurity\", y = \"Proportion\")  \n\n\n\n\n\n\n\n\n\ntable(churn$OnlineBackup,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1854 1233\n  No internet service 1407  113\n  Yes                 1902  523\n\nchisq.test(table(churn$OnlineBackup,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$OnlineBackup, churn$Churn)\nX-squared = 599.18, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(OnlineBackup), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by OnlineBackup\", x = \"OnlineBackup\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$DeviceProtection,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1883 1211\n  No internet service 1407  113\n  Yes                 1873  545\n\nchisq.test(table(churn$DeviceProtection,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$DeviceProtection, churn$Churn)\nX-squared = 555.88, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(DeviceProtection), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by DeviceProtection\", x = \"DeviceProtection\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$TechSupport,churn$Churn)\n\n                     \n                        No  Yes\n  No                  2026 1446\n  No internet service 1407  113\n  Yes                 1730  310\n\nchisq.test(table(churn$TechSupport,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$TechSupport, churn$Churn)\nX-squared = 824.93, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(TechSupport), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by TechSupport\", x = \"TechSupport\", y = \"Proportion\")  \n\n\n\n\n\n\n\n\n\ntable(churn$StreamingTV,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1867  942\n  No internet service 1407  113\n  Yes                 1889  814\n\nchisq.test(table(churn$StreamingTV,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$StreamingTV, churn$Churn)\nX-squared = 372.46, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(StreamingTV), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by StreamingTV\", x = \"StreamingTV\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$StreamingMovies,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1843  938\n  No internet service 1407  113\n  Yes                 1913  818\n\nchisq.test(table(churn$StreamingMovies,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$StreamingMovies, churn$Churn)\nX-squared = 374.27, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(StreamingMovies), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by StreamingMovies\", x = \"StreamingMovies\", y = \"Proportion\")  \n\n\n\n\n\n\n\n\n\ntable(churn$Contract,churn$Churn)\n\n                \n                   No  Yes\n  Month-to-month 2220 1655\n  One year       1306  166\n  Two year       1637   48\n\nchisq.test(table(churn$Contract,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$Contract, churn$Churn)\nX-squared = 1179.5, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(Contract), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Contract\", x = \"Contract\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$PaperlessBilling,churn$Churn)\n\n     \n        No  Yes\n  No  2395  469\n  Yes 2768 1400\n\nchisq.test(table(churn$PaperlessBilling,churn$Churn))\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$PaperlessBilling, churn$Churn)\nX-squared = 256.87, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(PaperlessBilling), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by PaperlessBilling\", x = \"PaperlessBilling\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$PaymentMethod,churn$Churn)\n\n                           \n                              No  Yes\n  Bank transfer (automatic) 1284  258\n  Credit card (automatic)   1289  232\n  Electronic check          1294 1071\n  Mailed check              1296  308\n\nchisq.test(table(churn$PaymentMethod,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$PaymentMethod, churn$Churn)\nX-squared = 645.43, df = 3, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(PaymentMethod), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by PaymentMethod\", x = \"PaymentMethod\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nboxplot(MonthlyCharges~Churn, data = churn)\n\n\n\n\n\n\n\n\n\nboxplot(tenure~Churn, data = churn)\n\n\n\n\n\n\n\n\n\nboxplot(TotalCharges~Churn, data = churn)\n\n\n\n\n\n\n\n\n\n\n\nMonthlyCharges, tenure, and TotalCharges\n\npar(mfrow=c(2,3))\n\nhist(churn$MonthlyCharges)\nhist(churn$tenure)\nhist(churn$TotalCharges)\n\nhist(log(churn$MonthlyCharges))\nhist(log(churn$tenure))\nhist(log(churn$TotalCharges))\n\n\n\n\n\n\n\n\nThe numeric predictors are not normally distributed which may lead to the model having greater predictor power given certain values of predictors rather than others."
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html#summary-statistics",
    "href": "posts/telco/customerchurn_prelim_da.html#summary-statistics",
    "title": "Appendix",
    "section": "",
    "text": "library(tidyverse)\nlibrary(car)\nlibrary(klaR)\nlibrary(lmtest)\nlibrary(car)\nlibrary(ROCR)\nlibrary(MASS)\nlibrary(tree)\nlibrary(randomForest)\n\n\nchurn &lt;- read_csv('WA_Fn-UseC_-Telco-Customer-Churn.csv')\n# look at NA values - might be able to compute regression model to impute those values\nglimpse(churn)\n\nRows: 7,043\nColumns: 21\n$ customerID       &lt;chr&gt; \"7590-VHVEG\", \"5575-GNVDE\", \"3668-QPYBK\", \"7795-CFOCW…\n$ gender           &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\",…\n$ SeniorCitizen    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Partner          &lt;chr&gt; \"Yes\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ Dependents       &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\"…\n$ tenure           &lt;dbl&gt; 1, 34, 2, 45, 2, 8, 22, 10, 28, 62, 13, 16, 58, 49, 2…\n$ PhoneService     &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ MultipleLines    &lt;chr&gt; \"No phone service\", \"No\", \"No\", \"No phone service\", \"…\n$ InternetService  &lt;chr&gt; \"DSL\", \"DSL\", \"DSL\", \"DSL\", \"Fiber optic\", \"Fiber opt…\n$ OnlineSecurity   &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"…\n$ OnlineBackup     &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"N…\n$ DeviceProtection &lt;chr&gt; \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"Y…\n$ TechSupport      &lt;chr&gt; \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ StreamingTV      &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"Yes\", \"No\", \"Ye…\n$ StreamingMovies  &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"Yes…\n$ Contract         &lt;chr&gt; \"Month-to-month\", \"One year\", \"Month-to-month\", \"One …\n$ PaperlessBilling &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ PaymentMethod    &lt;chr&gt; \"Electronic check\", \"Mailed check\", \"Mailed check\", \"…\n$ MonthlyCharges   &lt;dbl&gt; 29.85, 56.95, 53.85, 42.30, 70.70, 99.65, 89.10, 29.7…\n$ TotalCharges     &lt;dbl&gt; 29.85, 1889.50, 108.15, 1840.75, 151.65, 820.50, 1949…\n$ Churn            &lt;chr&gt; \"No\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"No\", \"No\", \"Y…\n\n# Removes 21 observations\nchurn &lt;- na.omit(churn)\nglimpse(churn)\n\nRows: 7,032\nColumns: 21\n$ customerID       &lt;chr&gt; \"7590-VHVEG\", \"5575-GNVDE\", \"3668-QPYBK\", \"7795-CFOCW…\n$ gender           &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\",…\n$ SeniorCitizen    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Partner          &lt;chr&gt; \"Yes\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ Dependents       &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\"…\n$ tenure           &lt;dbl&gt; 1, 34, 2, 45, 2, 8, 22, 10, 28, 62, 13, 16, 58, 49, 2…\n$ PhoneService     &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ MultipleLines    &lt;chr&gt; \"No phone service\", \"No\", \"No\", \"No phone service\", \"…\n$ InternetService  &lt;chr&gt; \"DSL\", \"DSL\", \"DSL\", \"DSL\", \"Fiber optic\", \"Fiber opt…\n$ OnlineSecurity   &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"…\n$ OnlineBackup     &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"N…\n$ DeviceProtection &lt;chr&gt; \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"Y…\n$ TechSupport      &lt;chr&gt; \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ StreamingTV      &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"Yes\", \"No\", \"Ye…\n$ StreamingMovies  &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"Yes…\n$ Contract         &lt;chr&gt; \"Month-to-month\", \"One year\", \"Month-to-month\", \"One …\n$ PaperlessBilling &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ PaymentMethod    &lt;chr&gt; \"Electronic check\", \"Mailed check\", \"Mailed check\", \"…\n$ MonthlyCharges   &lt;dbl&gt; 29.85, 56.95, 53.85, 42.30, 70.70, 99.65, 89.10, 29.7…\n$ TotalCharges     &lt;dbl&gt; 29.85, 1889.50, 108.15, 1840.75, 151.65, 820.50, 1949…\n$ Churn            &lt;chr&gt; \"No\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"No\", \"No\", \"Y…\n\nsummary(churn)\n\n  customerID           gender          SeniorCitizen      Partner         \n Length:7032        Length:7032        Min.   :0.0000   Length:7032       \n Class :character   Class :character   1st Qu.:0.0000   Class :character  \n Mode  :character   Mode  :character   Median :0.0000   Mode  :character  \n                                       Mean   :0.1624                     \n                                       3rd Qu.:0.0000                     \n                                       Max.   :1.0000                     \n  Dependents            tenure      PhoneService       MultipleLines     \n Length:7032        Min.   : 1.00   Length:7032        Length:7032       \n Class :character   1st Qu.: 9.00   Class :character   Class :character  \n Mode  :character   Median :29.00   Mode  :character   Mode  :character  \n                    Mean   :32.42                                        \n                    3rd Qu.:55.00                                        \n                    Max.   :72.00                                        \n InternetService    OnlineSecurity     OnlineBackup       DeviceProtection  \n Length:7032        Length:7032        Length:7032        Length:7032       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n TechSupport        StreamingTV        StreamingMovies      Contract        \n Length:7032        Length:7032        Length:7032        Length:7032       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n PaperlessBilling   PaymentMethod      MonthlyCharges    TotalCharges   \n Length:7032        Length:7032        Min.   : 18.25   Min.   :  18.8  \n Class :character   Class :character   1st Qu.: 35.59   1st Qu.: 401.4  \n Mode  :character   Mode  :character   Median : 70.35   Median :1397.5  \n                                       Mean   : 64.80   Mean   :2283.3  \n                                       3rd Qu.: 89.86   3rd Qu.:3794.7  \n                                       Max.   :118.75   Max.   :8684.8  \n    Churn          \n Length:7032       \n Class :character  \n Mode  :character"
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html#outcome-variable",
    "href": "posts/telco/customerchurn_prelim_da.html#outcome-variable",
    "title": "Appendix",
    "section": "",
    "text": "table(churn$Churn)\n\n\n  No  Yes \n5163 1869 \n\n\nThere are many more observations for customers who did not churn, which may make any model biased towards predicting no churn."
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html#character-variables",
    "href": "posts/telco/customerchurn_prelim_da.html#character-variables",
    "title": "Appendix",
    "section": "",
    "text": "# Select character variables\nnames(churn)[map_lgl(churn, is.character)]\n\n [1] \"customerID\"       \"gender\"           \"Partner\"          \"Dependents\"      \n [5] \"PhoneService\"     \"MultipleLines\"    \"InternetService\"  \"OnlineSecurity\"  \n [9] \"OnlineBackup\"     \"DeviceProtection\" \"TechSupport\"      \"StreamingTV\"     \n[13] \"StreamingMovies\"  \"Contract\"         \"PaperlessBilling\" \"PaymentMethod\"   \n[17] \"Churn\"           \n\n\n\n# create a vector of character variables\nchar_vars &lt;- c(\"gender\",\"Partner\",\"Dependents\",\"PhoneService\",\"MultipleLines\",\"InternetService\",\"OnlineSecurity\",\"OnlineBackup\",\"DeviceProtection\",\"TechSupport\",\"StreamingTV\",\"StreamingMovies\",\"Contract\",\"PaperlessBilling\",\"PaymentMethod\")\n\n\n\nThis section checks to see if there are any categories with very few observations for each of the categorical variables.\n\nfor (var in char_vars) {\n  print(var)\n  print(table(churn[[var]]))\n}\n\n[1] \"gender\"\n\nFemale   Male \n  3483   3549 \n[1] \"Partner\"\n\n  No  Yes \n3639 3393 \n[1] \"Dependents\"\n\n  No  Yes \n4933 2099 \n[1] \"PhoneService\"\n\n  No  Yes \n 680 6352 \n[1] \"MultipleLines\"\n\n              No No phone service              Yes \n            3385              680             2967 \n[1] \"InternetService\"\n\n        DSL Fiber optic          No \n       2416        3096        1520 \n[1] \"OnlineSecurity\"\n\n                 No No internet service                 Yes \n               3497                1520                2015 \n[1] \"OnlineBackup\"\n\n                 No No internet service                 Yes \n               3087                1520                2425 \n[1] \"DeviceProtection\"\n\n                 No No internet service                 Yes \n               3094                1520                2418 \n[1] \"TechSupport\"\n\n                 No No internet service                 Yes \n               3472                1520                2040 \n[1] \"StreamingTV\"\n\n                 No No internet service                 Yes \n               2809                1520                2703 \n[1] \"StreamingMovies\"\n\n                 No No internet service                 Yes \n               2781                1520                2731 \n[1] \"Contract\"\n\nMonth-to-month       One year       Two year \n          3875           1472           1685 \n[1] \"PaperlessBilling\"\n\n  No  Yes \n2864 4168 \n[1] \"PaymentMethod\"\n\nBank transfer (automatic)   Credit card (automatic)          Electronic check \n                     1542                      1521                      2365 \n             Mailed check \n                     1604 \n\n\nWhile there are some variables that have an imbalance of counts for each category, for the most part, every categorical variable has enough observations with in each category.\n\n\n\n\ntable(churn$gender,churn$Churn)\n\n        \n           No  Yes\n  Female 2544  939\n  Male   2619  930\n\nchisq.test(table(churn$gender,churn$Churn)) \n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$gender, churn$Churn)\nX-squared = 0.47545, df = 1, p-value = 0.4905\n\nggplot(churn, aes(x = factor(gender), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Gender\", x = \"Gender\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$SeniorCitizen,churn$Churn)\n\n   \n      No  Yes\n  0 4497 1393\n  1  666  476\n\nchisq.test(table(churn$SeniorCitizen,churn$Churn)) \n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$SeniorCitizen, churn$Churn)\nX-squared = 158.44, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(SeniorCitizen), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by SeniorCitizen Status\", x = \"SeniorCitizen\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$Partner,churn$Churn)\n\n     \n        No  Yes\n  No  2439 1200\n  Yes 2724  669\n\nchisq.test(table(churn$Partner,churn$Churn))\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$Partner, churn$Churn)\nX-squared = 157.5, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(Partner), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Partner Status\", x = \"Partner\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$Dependents,churn$Churn)\n\n     \n        No  Yes\n  No  3390 1543\n  Yes 1773  326\n\nchisq.test(table(churn$Dependents,churn$Churn)) \n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$Dependents, churn$Churn)\nX-squared = 186.32, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(Dependents), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Dependents\", x = \"Dependents\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$PhoneService,churn$Churn)\n\n     \n        No  Yes\n  No   510  170\n  Yes 4653 1699\n\nchisq.test(table(churn$PhoneService,churn$Churn))\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$PhoneService, churn$Churn)\nX-squared = 0.87373, df = 1, p-value = 0.3499\n\nggplot(churn, aes(x = factor(PhoneService), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by PhoneService\", x = \"PhoneService\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$MultipleLines,churn$Churn)\n\n                  \n                     No  Yes\n  No               2536  849\n  No phone service  510  170\n  Yes              2117  850\n\nchisq.test(table(churn$MultipleLines,churn$Churn)) \n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$MultipleLines, churn$Churn)\nX-squared = 11.272, df = 2, p-value = 0.003568\n\nggplot(churn, aes(x = factor(MultipleLines), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by MultipleLines\", x = \"MultipleLines\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$InternetService,churn$Churn)\n\n             \n                No  Yes\n  DSL         1957  459\n  Fiber optic 1799 1297\n  No          1407  113\n\nchisq.test(table(churn$InternetService,churn$Churn)) \n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$InternetService, churn$Churn)\nX-squared = 728.7, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(InternetService), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by InternetService\", x = \"InternetService\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$OnlineSecurity,churn$Churn)\n\n                     \n                        No  Yes\n  No                  2036 1461\n  No internet service 1407  113\n  Yes                 1720  295\n\nchisq.test(table(churn$OnlineSecurity,churn$Churn)) \n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$OnlineSecurity, churn$Churn)\nX-squared = 846.68, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(OnlineSecurity), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by OnlineSecurity\", x = \"OnlineSecurity\", y = \"Proportion\")  \n\n\n\n\n\n\n\n\n\ntable(churn$OnlineBackup,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1854 1233\n  No internet service 1407  113\n  Yes                 1902  523\n\nchisq.test(table(churn$OnlineBackup,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$OnlineBackup, churn$Churn)\nX-squared = 599.18, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(OnlineBackup), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by OnlineBackup\", x = \"OnlineBackup\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$DeviceProtection,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1883 1211\n  No internet service 1407  113\n  Yes                 1873  545\n\nchisq.test(table(churn$DeviceProtection,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$DeviceProtection, churn$Churn)\nX-squared = 555.88, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(DeviceProtection), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by DeviceProtection\", x = \"DeviceProtection\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$TechSupport,churn$Churn)\n\n                     \n                        No  Yes\n  No                  2026 1446\n  No internet service 1407  113\n  Yes                 1730  310\n\nchisq.test(table(churn$TechSupport,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$TechSupport, churn$Churn)\nX-squared = 824.93, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(TechSupport), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by TechSupport\", x = \"TechSupport\", y = \"Proportion\")  \n\n\n\n\n\n\n\n\n\ntable(churn$StreamingTV,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1867  942\n  No internet service 1407  113\n  Yes                 1889  814\n\nchisq.test(table(churn$StreamingTV,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$StreamingTV, churn$Churn)\nX-squared = 372.46, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(StreamingTV), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by StreamingTV\", x = \"StreamingTV\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$StreamingMovies,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1843  938\n  No internet service 1407  113\n  Yes                 1913  818\n\nchisq.test(table(churn$StreamingMovies,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$StreamingMovies, churn$Churn)\nX-squared = 374.27, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(StreamingMovies), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by StreamingMovies\", x = \"StreamingMovies\", y = \"Proportion\")  \n\n\n\n\n\n\n\n\n\ntable(churn$Contract,churn$Churn)\n\n                \n                   No  Yes\n  Month-to-month 2220 1655\n  One year       1306  166\n  Two year       1637   48\n\nchisq.test(table(churn$Contract,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$Contract, churn$Churn)\nX-squared = 1179.5, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(Contract), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Contract\", x = \"Contract\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$PaperlessBilling,churn$Churn)\n\n     \n        No  Yes\n  No  2395  469\n  Yes 2768 1400\n\nchisq.test(table(churn$PaperlessBilling,churn$Churn))\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$PaperlessBilling, churn$Churn)\nX-squared = 256.87, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(PaperlessBilling), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by PaperlessBilling\", x = \"PaperlessBilling\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$PaymentMethod,churn$Churn)\n\n                           \n                              No  Yes\n  Bank transfer (automatic) 1284  258\n  Credit card (automatic)   1289  232\n  Electronic check          1294 1071\n  Mailed check              1296  308\n\nchisq.test(table(churn$PaymentMethod,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$PaymentMethod, churn$Churn)\nX-squared = 645.43, df = 3, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(PaymentMethod), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by PaymentMethod\", x = \"PaymentMethod\", y = \"Proportion\")"
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html#numeric-variables",
    "href": "posts/telco/customerchurn_prelim_da.html#numeric-variables",
    "title": "Appendix",
    "section": "",
    "text": "boxplot(MonthlyCharges~Churn, data = churn)\n\n\n\n\n\n\n\n\n\nboxplot(tenure~Churn, data = churn)\n\n\n\n\n\n\n\n\n\nboxplot(TotalCharges~Churn, data = churn)\n\n\n\n\n\n\n\n\n\n\n\nMonthlyCharges, tenure, and TotalCharges\n\npar(mfrow=c(2,3))\n\nhist(churn$MonthlyCharges)\nhist(churn$tenure)\nhist(churn$TotalCharges)\n\nhist(log(churn$MonthlyCharges))\nhist(log(churn$tenure))\nhist(log(churn$TotalCharges))\n\n\n\n\n\n\n\n\nThe numeric predictors are not normally distributed which may lead to the model having greater predictor power given certain values of predictors rather than others."
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html#significant-predictors",
    "href": "posts/telco/customerchurn_prelim_da.html#significant-predictors",
    "title": "Appendix",
    "section": "Significant predictors",
    "text": "Significant predictors\nSection A.1.3.2 shows the outcome of chi-square tests to assess the relationship between each variable and the outcome variable, Churn. These tests determined that the following variables are significantly related to Churn: SeniorCitizen, Partner, Dependents, MultipleLines, InternetService, OnlineSecurity, OnlineBackup, DeviceProtection, TechSupport, StreamingTV, StreamingMovies, Contract, PaperlessBilling and PaymentMethod. And all numeric variables, Tenure, MonthlyCharges, and TotalCharges have significantly different means for Churn status.\n\n# Fit an initial model to further determine variable significance.\nchurn$Churn &lt;- ifelse(churn$Churn == 'Yes',1,0)\nchurn.fit &lt;- glm(Churn~.-customerID,family=binomial(link=\"logit\"),data = churn)\nsummary(churn.fit)\n\n\nCall:\nglm(formula = Churn ~ . - customerID, family = binomial(link = \"logit\"), \n    data = churn)\n\nCoefficients: (7 not defined because of singularities)\n                                       Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)                           1.165e+00  8.151e-01   1.430  0.15284    \ngenderMale                           -2.183e-02  6.480e-02  -0.337  0.73619    \nSeniorCitizen                         2.168e-01  8.453e-02   2.564  0.01033 *  \nPartnerYes                           -3.840e-04  7.783e-02  -0.005  0.99606    \nDependentsYes                        -1.485e-01  8.973e-02  -1.655  0.09796 .  \ntenure                               -6.059e-02  6.236e-03  -9.716  &lt; 2e-16 ***\nPhoneServiceYes                       1.715e-01  6.487e-01   0.264  0.79153    \nMultipleLinesNo phone service                NA         NA      NA       NA    \nMultipleLinesYes                      4.484e-01  1.773e-01   2.530  0.01142 *  \nInternetServiceFiber optic            1.747e+00  7.981e-01   2.190  0.02855 *  \nInternetServiceNo                    -1.786e+00  8.073e-01  -2.213  0.02691 *  \nOnlineSecurityNo internet service            NA         NA      NA       NA    \nOnlineSecurityYes                    -2.054e-01  1.787e-01  -1.150  0.25031    \nOnlineBackupNo internet service              NA         NA      NA       NA    \nOnlineBackupYes                       2.604e-02  1.754e-01   0.148  0.88197    \nDeviceProtectionNo internet service          NA         NA      NA       NA    \nDeviceProtectionYes                   1.474e-01  1.764e-01   0.836  0.40339    \nTechSupportNo internet service               NA         NA      NA       NA    \nTechSupportYes                       -1.805e-01  1.806e-01  -0.999  0.31759    \nStreamingTVNo internet service               NA         NA      NA       NA    \nStreamingTVYes                        5.905e-01  3.263e-01   1.810  0.07035 .  \nStreamingMoviesNo internet service           NA         NA      NA       NA    \nStreamingMoviesYes                    5.993e-01  3.267e-01   1.834  0.06658 .  \nContractOne year                     -6.608e-01  1.076e-01  -6.142 8.15e-10 ***\nContractTwo year                     -1.357e+00  1.764e-01  -7.691 1.46e-14 ***\nPaperlessBillingYes                   3.424e-01  7.450e-02   4.596 4.31e-06 ***\nPaymentMethodCredit card (automatic) -8.779e-02  1.141e-01  -0.770  0.44156    \nPaymentMethodElectronic check         3.045e-01  9.450e-02   3.222  0.00127 ** \nPaymentMethodMailed check            -5.759e-02  1.149e-01  -0.501  0.61627    \nMonthlyCharges                       -4.034e-02  3.176e-02  -1.270  0.20392    \nTotalCharges                          3.289e-04  7.063e-05   4.657 3.20e-06 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 8143.4  on 7031  degrees of freedom\nResidual deviance: 5826.3  on 7008  degrees of freedom\nAIC: 5874.3\n\nNumber of Fisher Scoring iterations: 6\n\nrequire(coefplot)\ncoefplot(churn.fit)\n\n\n\n\n\n\n\n\nThis model indicates that considering all variables available, the following variables are significantly related to Churn.\n\nchurn.fit.reduced &lt;- glm(Churn~SeniorCitizen+tenure+MultipleLines+InternetService+Contract+PaperlessBilling+PaymentMethod+TotalCharges,family=binomial(link=\"logit\"),data = churn)\nsummary(churn.fit.reduced)\n\n\nCall:\nglm(formula = Churn ~ SeniorCitizen + tenure + MultipleLines + \n    InternetService + Contract + PaperlessBilling + PaymentMethod + \n    TotalCharges, family = binomial(link = \"logit\"), data = churn)\n\nCoefficients:\n                                       Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)                          -0.7524686  0.1216481  -6.186 6.19e-10 ***\nSeniorCitizen                         0.2838042  0.0820511   3.459 0.000542 ***\ntenure                               -0.0623101  0.0059172 -10.530  &lt; 2e-16 ***\nMultipleLinesNo phone service         0.7163172  0.1296922   5.523 3.33e-08 ***\nMultipleLinesYes                      0.2794728  0.0788261   3.545 0.000392 ***\nInternetServiceFiber optic            0.9105034  0.0951849   9.566  &lt; 2e-16 ***\nInternetServiceNo                    -0.5347664  0.1307872  -4.089 4.34e-05 ***\nContractOne year                     -0.7177526  0.1051426  -6.826 8.70e-12 ***\nContractTwo year                     -1.5309937  0.1736988  -8.814  &lt; 2e-16 ***\nPaperlessBillingYes                   0.3843680  0.0734646   5.232 1.68e-07 ***\nPaymentMethodCredit card (automatic) -0.0969663  0.1131124  -0.857 0.391303    \nPaymentMethodElectronic check         0.3697148  0.0934143   3.958 7.56e-05 ***\nPaymentMethodMailed check            -0.0803387  0.1135281  -0.708 0.479160    \nTotalCharges                          0.0003168  0.0000630   5.029 4.94e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 8143.4  on 7031  degrees of freedom\nResidual deviance: 5899.8  on 7018  degrees of freedom\nAIC: 5927.8\n\nNumber of Fisher Scoring iterations: 6\n\n\nBut we will use variable selection to determine the ultimate best model."
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html#multicollinearity",
    "href": "posts/telco/customerchurn_prelim_da.html#multicollinearity",
    "title": "Appendix",
    "section": "Multicollinearity",
    "text": "Multicollinearity\n\n# Xs are independent (uncorrelated)\ncond.index(churn.fit, data=churn)\n\n [1] 1.000000e+00 1.361638e+00 2.737057e+00 3.255377e+00 3.637219e+00\n [6] 3.720449e+00 3.993979e+00 4.232393e+00 4.362516e+00 4.723229e+00\n[11] 5.126693e+00 5.241772e+00 5.355070e+00 5.635948e+00 5.751611e+00\n[16] 6.355325e+00 6.648467e+00 6.716715e+00 6.907980e+00 7.422290e+00\n[21] 9.573179e+00 1.117690e+01 2.289433e+01 2.812095e+02 8.631410e+07\n[26] 1.021002e+08 1.021002e+08 1.021002e+08 1.021002e+08 1.021002e+08\n[31] 1.021002e+08\n\ncond.index(churn.fit.reduced, data=churn)\n\n [1]  1.000000  1.851448  2.188398  2.371296  2.496958  2.842187  3.032654\n [8]  3.195287  4.156824  4.535447  5.204044  6.324844  9.710559 13.676272\n\n\nThe CI for the full model is very high at 102,100,200. The reduced model with only variables signficant the 95 percent level has a much lower CI.\n\nvif(churn.fit.reduced)\n\n                      GVIF Df GVIF^(1/(2*Df))\nSeniorCitizen     1.085653  1        1.041947\ntenure           14.365387  1        3.790170\nMultipleLines     1.903615  2        1.174613\nInternetService   2.350769  2        1.238233\nContract          1.515189  2        1.109473\nPaperlessBilling  1.113868  1        1.055399\nPaymentMethod     1.340114  3        1.050002\nTotalCharges     16.454504  1        4.056415\n\n\nNone of the variance inflation factors for the variables in the reduced model exceeds the threshold of 10."
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html#outliers-variable-distributions",
    "href": "posts/telco/customerchurn_prelim_da.html#outliers-variable-distributions",
    "title": "Appendix",
    "section": "Outliers & Variable Distributions",
    "text": "Outliers & Variable Distributions\nSevere outliers do not appear to be a problem for any of the variables, but all variables do have either a non-normal, skewed, or slightly unbalanced distributions. Therefore, this dataset is likely to produce models with high variation.\n\nplot(churn.fit.reduced, which = 3)\n\n\n\n\n\n\n\nplot(churn.fit.reduced, which = 4)\n\n\n\n\n\n\n\n\n\nchurn[c(269,4266,4812),c(\"SeniorCitizen\",\"tenure\",\"MultipleLines\",\"InternetService\",\"Contract\",\"PaperlessBilling\",\"PaymentMethod\",\"TotalCharges\")]\n\n# A tibble: 3 × 8\n  SeniorCitizen tenure MultipleLines InternetService Contract PaperlessBilling\n          &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;           &lt;chr&gt;    &lt;chr&gt;           \n1             0     59 No            No              Two year No              \n2             0     56 Yes           No              Two year Yes             \n3             0     53 No            No              Two year No              \n# ℹ 2 more variables: PaymentMethod &lt;chr&gt;, TotalCharges &lt;dbl&gt;\n\n\n\nsummary(churn[,c(\"SeniorCitizen\",\"tenure\",\"MultipleLines\",\"InternetService\",\"Contract\",\"PaperlessBilling\",\"PaymentMethod\",\"TotalCharges\")])\n\n SeniorCitizen        tenure      MultipleLines      InternetService   \n Min.   :0.0000   Min.   : 1.00   Length:7032        Length:7032       \n 1st Qu.:0.0000   1st Qu.: 9.00   Class :character   Class :character  \n Median :0.0000   Median :29.00   Mode  :character   Mode  :character  \n Mean   :0.1624   Mean   :32.42                                        \n 3rd Qu.:0.0000   3rd Qu.:55.00                                        \n Max.   :1.0000   Max.   :72.00                                        \n   Contract         PaperlessBilling   PaymentMethod       TotalCharges   \n Length:7032        Length:7032        Length:7032        Min.   :  18.8  \n Class :character   Class :character   Class :character   1st Qu.: 401.4  \n Mode  :character   Mode  :character   Mode  :character   Median :1397.5  \n                                                          Mean   :2283.3  \n                                                          3rd Qu.:3794.7  \n                                                          Max.   :8684.8  \n\n\nThese three customers, c(269,4266,4812), are identified as potential influential observations. This may be because they have longer than average tenure as customers, all close to the 75th percentile of tenure length among the entire dataset."
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html#linearity",
    "href": "posts/telco/customerchurn_prelim_da.html#linearity",
    "title": "Appendix",
    "section": "Linearity",
    "text": "Linearity\nRelationship between log-odds of Churn and numeric predictors. [Linearity of numeric predictors for logit models] (https://stats.stackexchange.com/questions/169348/how-should-i-check-the-assumption-of-linearity-to-the-logit-for-the-continuous-i)\n\nsummary(churn[,c('tenure','TotalCharges')])\n\n     tenure       TotalCharges   \n Min.   : 1.00   Min.   :  18.8  \n 1st Qu.: 9.00   1st Qu.: 401.4  \n Median :29.00   Median :1397.5  \n Mean   :32.42   Mean   :2283.3  \n 3rd Qu.:55.00   3rd Qu.:3794.7  \n Max.   :72.00   Max.   :8684.8  \n\n\n\npar(mfrow=c(1,2))\nchurn.fit.num &lt;- glm(Churn~tenure+TotalCharges,family=binomial(link=\"logit\"), data = churn)\n\nlog.odds &lt;- predict(churn.fit.num, type = \"link\")\n\nplot(churn$tenure,log.odds)\nplot(churn$TotalCharges,log.odds)\n\n\n\n\n\n\n\n\n\nodds &lt;- exp(log.odds)\n\nprobabilities &lt;- odds/(1+odds)"
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html#re-check-multicollinearity",
    "href": "posts/telco/customerchurn_prelim_da.html#re-check-multicollinearity",
    "title": "Appendix",
    "section": "Re-check Multicollinearity",
    "text": "Re-check Multicollinearity\n\ncond.index(churn.stepwise, data=churn)\n\n [1] 1.000000e+00 1.372306e+00 2.238997e+00 2.566460e+00 2.837376e+00\n [6] 2.951097e+00 3.286880e+00 3.574375e+00 3.943486e+00 4.141395e+00\n[11] 4.519665e+00 4.935432e+00 5.210376e+00 5.864349e+00 7.229496e+00\n[16] 1.119355e+01 1.709818e+01 3.861473e+08 8.428337e+08 2.159073e+09\n\ncond.index(churn.stepwise.1, data=churn)\n\n [1] 1.000000e+00 1.482721e+00 2.141341e+00 2.450337e+00 2.707356e+00\n [6] 2.821385e+00 3.149718e+00 3.416094e+00 3.881858e+00 3.962582e+00\n[11] 4.613957e+00 4.927430e+00 5.648598e+00 6.874077e+00 1.069470e+01\n[16] 1.555776e+01 3.044554e+08 6.123331e+08\n\ncond.index(churn.stepwise.2, data=churn)\n\n [1] 1.000000e+00 1.647890e+00 2.157724e+00 2.369799e+00 2.598730e+00\n [6] 2.762392e+00 3.033465e+00 3.290736e+00 3.759132e+00 4.364566e+00\n[11] 4.731612e+00 5.384280e+00 6.597211e+00 1.022308e+01 1.443900e+01\n[16] 4.363788e+08\n\ncond.index(churn.fit.reduced, data=churn)\n\n [1]  1.000000  1.851448  2.188398  2.371296  2.496958  2.842187  3.032654\n [8]  3.195287  4.156824  4.535447  5.204044  6.324844  9.710559 13.676272"
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html#logistic-regression",
    "href": "posts/telco/customerchurn_prelim_da.html#logistic-regression",
    "title": "Appendix",
    "section": "Logistic Regression",
    "text": "Logistic Regression\n\nchurn.logreg &lt;- glm(Churn~SeniorCitizen+tenure+MultipleLines+InternetService+Contract+PaperlessBilling+PaymentMethod+TotalCharges,\n    family=binomial(link=\"logit\"),\n    data = churn)\n\nsummary(churn.logreg)\n\n\nCall:\nglm(formula = Churn ~ SeniorCitizen + tenure + MultipleLines + \n    InternetService + Contract + PaperlessBilling + PaymentMethod + \n    TotalCharges, family = binomial(link = \"logit\"), data = churn)\n\nCoefficients:\n                                       Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)                          -0.7524686  0.1216481  -6.186 6.19e-10 ***\nSeniorCitizen                         0.2838042  0.0820511   3.459 0.000542 ***\ntenure                               -0.0623101  0.0059172 -10.530  &lt; 2e-16 ***\nMultipleLinesNo phone service         0.7163172  0.1296922   5.523 3.33e-08 ***\nMultipleLinesYes                      0.2794728  0.0788261   3.545 0.000392 ***\nInternetServiceFiber optic            0.9105034  0.0951849   9.566  &lt; 2e-16 ***\nInternetServiceNo                    -0.5347664  0.1307872  -4.089 4.34e-05 ***\nContractOne year                     -0.7177526  0.1051426  -6.826 8.70e-12 ***\nContractTwo year                     -1.5309937  0.1736988  -8.814  &lt; 2e-16 ***\nPaperlessBillingYes                   0.3843680  0.0734646   5.232 1.68e-07 ***\nPaymentMethodCredit card (automatic) -0.0969663  0.1131124  -0.857 0.391303    \nPaymentMethodElectronic check         0.3697148  0.0934143   3.958 7.56e-05 ***\nPaymentMethodMailed check            -0.0803387  0.1135281  -0.708 0.479160    \nTotalCharges                          0.0003168  0.0000630   5.029 4.94e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 8143.4  on 7031  degrees of freedom\nResidual deviance: 5899.8  on 7018  degrees of freedom\nAIC: 5927.8\n\nNumber of Fisher Scoring iterations: 6\n\nbroom::tidy(churn.logreg)\n\n# A tibble: 14 × 5\n   term                                  estimate std.error statistic  p.value\n   &lt;chr&gt;                                    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n 1 (Intercept)                          -0.752    0.122        -6.19  6.19e-10\n 2 SeniorCitizen                         0.284    0.0821        3.46  5.42e- 4\n 3 tenure                               -0.0623   0.00592     -10.5   6.26e-26\n 4 MultipleLinesNo phone service         0.716    0.130         5.52  3.33e- 8\n 5 MultipleLinesYes                      0.279    0.0788        3.55  3.92e- 4\n 6 InternetServiceFiber optic            0.911    0.0952        9.57  1.12e-21\n 7 InternetServiceNo                    -0.535    0.131        -4.09  4.34e- 5\n 8 ContractOne year                     -0.718    0.105        -6.83  8.70e-12\n 9 ContractTwo year                     -1.53     0.174        -8.81  1.21e-18\n10 PaperlessBillingYes                   0.384    0.0735        5.23  1.68e- 7\n11 PaymentMethodCredit card (automatic) -0.0970   0.113        -0.857 3.91e- 1\n12 PaymentMethodElectronic check         0.370    0.0934        3.96  7.56e- 5\n13 PaymentMethodMailed check            -0.0803   0.114        -0.708 4.79e- 1\n14 TotalCharges                          0.000317 0.0000630     5.03  4.94e- 7\n\n\nThe polynomial model is significantly better.\n\nlog.odds &lt;- coef(churn.logreg)    \nodds &lt;- exp(coef(churn.logreg))\nprob &lt;- odds/(1+odds)\ncbind(log.odds, odds, prob)\n\n                                          log.odds      odds      prob\n(Intercept)                          -0.7524685955 0.4712019 0.3202836\nSeniorCitizen                         0.2838041796 1.3281728 0.5704786\ntenure                               -0.0623100773 0.9395915 0.4844275\nMultipleLinesNo phone service         0.7163171797 2.0468810 0.6717955\nMultipleLinesYes                      0.2794728130 1.3224325 0.5694170\nInternetServiceFiber optic            0.9105034442 2.4855736 0.7131032\nInternetServiceNo                    -0.5347664326 0.5858061 0.3694059\nContractOne year                     -0.7177525891 0.4878474 0.3278881\nContractTwo year                     -1.5309937176 0.2163206 0.1778483\nPaperlessBillingYes                   0.3843680352 1.4686859 0.5949262\nPaymentMethodCredit card (automatic) -0.0969662899 0.9075866 0.4757774\nPaymentMethodElectronic check         0.3697148405 1.4473218 0.5913901\nPaymentMethodMailed check            -0.0803387365 0.9228037 0.4799261\nTotalCharges                          0.0003168002 1.0003169 0.5000792\n\n\n\nTest/Train Split\n\nset.seed(1)\nn &lt;- nrow(churn)\ntrain &lt;- sample(n,n*0.60)\n\n\n\nLinear Variables\n\nchurn.logreg.linear.train &lt;- glm(Churn ~ SeniorCitizen + tenure + MultipleLines + InternetService + Contract + PaperlessBilling + PaymentMethod + TotalCharges,\n    family=binomial(link=\"logit\"),\n    data = churn[train,])\n\nprobs &lt;- predict(churn.logreg.linear.train, churn[-train,], type = \"response\")\n# Lowered the threshold manually to 0.35 just by trial and error\npreds &lt;- ifelse(probs&gt;0.35, 1, 0)\nconf.mat &lt;- table(preds, churn$Churn[-train])\n\nTruN=conf.mat[1,1] # True negatives, row 1 col 1\nTruP=conf.mat[2,2] # True positives, row 2 col 2\nFalP=conf.mat[2,1] # False positives, etc.\nFalN=conf.mat[1,2] # False negatives\nTotN=conf.mat[1,1] + conf.mat[2,1] # Total negatives\nTotP=conf.mat[1,2] + conf.mat[2,2] # Total positives\nTot=TotN+TotP # Matrix total\n\nAccuracy=(TruN+TruP)/Tot\nError=(FalN+FalP)/Tot\nSensitivity=TruP/TotP # Proportion of correct positives\nSpecificity=TruN/TotN # Proportion of correct negatives\nFalPos = 1 - Specificity\n\nprint(c(\"Accuracy\"=Accuracy,\n        \"Error\"=Error,\n        \"Sensitivity\"=Sensitivity,\n        \"Specificity\"=Specificity,\n        \"False Positives\"=FalPos), digits=2) # Prints fewer digits\n\n       Accuracy           Error     Sensitivity     Specificity False Positives \n           0.77            0.23            0.70            0.80            0.20 \n\nlogreg.linear.rates &lt;- c(\"Accuracy\"=Accuracy,\n        \"Error\"=Error,\n        \"Sensitivity\"=Sensitivity,\n        \"Specificity\"=Specificity,\n        \"False Positives\"=FalPos)\n\npred &lt;- prediction(preds,churn$Churn[-train])\nperf &lt;- performance(pred,\"tpr\",\"fpr\")\nplot(perf,colorize=T)\n\n\n\n\n\n\n\nauc &lt;- performance(pred,\"auc\")\nc(auc@y.name[[1]], auc@y.values[[1]])\n\n[1] \"Area under the ROC curve\" \"0.752133952220864\""
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html#linear-discriminant-analysis",
    "href": "posts/telco/customerchurn_prelim_da.html#linear-discriminant-analysis",
    "title": "Appendix",
    "section": "Linear Discriminant Analysis",
    "text": "Linear Discriminant Analysis\n\nchurn.lda &lt;- lda(Churn ~ SeniorCitizen + tenure + MultipleLines + InternetService + Contract + PaperlessBilling + PaymentMethod + TotalCharges,\n    data = churn[train,])\n\n\npreds &lt;- predict(churn.lda,churn[-train,])$posterior[,2]\npreds &lt;- ifelse(preds &gt; 0.35, 1, 0)\n\nconf.mat &lt;- table(preds, churn$Churn[-train])\n\nTruN=conf.mat[1,1] # True negatives, row 1 col 1\nTruP=conf.mat[2,2] # True positives, row 2 col 2\nFalP=conf.mat[2,1] # False positives, etc.\nFalN=conf.mat[1,2] # False negatives\nTotN=conf.mat[1,1] + conf.mat[2,1] # Total negatives\nTotP=conf.mat[1,2] + conf.mat[2,2] # Total positives\nTot=TotN+TotP # Matrix total\n\nAccuracy=(TruN+TruP)/Tot\nError=(FalN+FalP)/Tot\nSensitivity=TruP/TotP # Proportion of correct positives\nSpecificity=TruN/TotN # Proportion of correct negatives\nFalPos = 1 - Specificity\n\nprint(c(\"Accuracy\"=Accuracy,\n        \"Error\"=Error,\n        \"Sensitivity\"=Sensitivity,\n        \"Specificity\"=Specificity,\n        \"False Positives\"=FalPos), digits=2) # Prints fewer digits\n\n       Accuracy           Error     Sensitivity     Specificity False Positives \n           0.78            0.22            0.67            0.82            0.18 \n\nlda.rates &lt;- c(\"Accuracy\"=Accuracy,\n        \"Error\"=Error,\n        \"Sensitivity\"=Sensitivity,\n        \"Specificity\"=Specificity,\n        \"False Positives\"=FalPos)\n\n\npred &lt;- prediction(preds,churn$Churn[-train])\nperf &lt;- performance(pred,\"tpr\",\"fpr\")\nplot(perf,colorize=T)\n\n\n\n\n\n\n\nauc &lt;- performance(pred,\"auc\")\nc(auc@y.name[[1]], auc@y.values[[1]])\n\n[1] \"Area under the ROC curve\" \"0.745390497656887\""
  },
  {
    "objectID": "posts/telco/customerchurn_prelim_da.html#random-forest",
    "href": "posts/telco/customerchurn_prelim_da.html#random-forest",
    "title": "Appendix",
    "section": "Random Forest",
    "text": "Random Forest\n\nset.seed(123)\nchurn.rf &lt;- randomForest(as.factor(Churn) ~ SeniorCitizen + tenure + MultipleLines + InternetService + Contract + PaperlessBilling + PaymentMethod + TotalCharges,\n    data = churn[train,],\n    importance=T,\n    mtry=8)\n\nplot(churn.rf)\n\n\n\n\n\n\n\nvarImpPlot(churn.rf) \n\n\n\n\n\n\n\nimportance(churn.rf)\n\n                           0          1 MeanDecreaseAccuracy MeanDecreaseGini\nSeniorCitizen     23.5077591  0.7560151            19.563656         47.31397\ntenure            32.9029022 23.3693999            58.278776        277.99436\nMultipleLines      0.9373841 10.7603795             8.315747         48.39879\nInternetService   13.7052240 52.6497915            51.015557        108.51806\nContract         -22.9653530 78.9509570            39.353273        276.79717\nPaperlessBilling   0.8453461 16.2492299            11.320629         53.43850\nPaymentMethod     -0.4391000 15.8995179            10.606852        105.40043\nTotalCharges      20.2527629  5.7149302            30.235313        699.33935\n\n\n\n# Learned how to produce probabilites from trees here: https://stackoverflow.com/questions/64651101/is-there-a-way-to-change-threshold-of-a-classification-within-a-model-in-caret-r\npreds &lt;- predict(churn.rf,churn[-train,], type = \"prob\")[,2]\npreds &lt;- ifelse(probs&gt;0.35, 1, 0)\nconf.mat &lt;- table(preds, churn$Churn[-train])\n\nTruN=conf.mat[1,1] # True negatives, row 1 col 1\nTruP=conf.mat[2,2] # True positives, row 2 col 2\nFalP=conf.mat[2,1] # False positives, etc.\nFalN=conf.mat[1,2] # False negatives\nTotN=conf.mat[1,1] + conf.mat[2,1] # Total negatives\nTotP=conf.mat[1,2] + conf.mat[2,2] # Total positives\nTot=TotN+TotP # Matrix total\n\nAccuracy=(TruN+TruP)/Tot\nError=(FalN+FalP)/Tot\nSensitivity=TruP/TotP # Proportion of correct positives\nSpecificity=TruN/TotN # Proportion of correct negatives\nFalPos = 1 - Specificity\n\nprint(c(\"Accuracy\"=Accuracy,\n        \"Error\"=Error,\n        \"Sensitivity\"=Sensitivity,\n        \"Specificity\"=Specificity,\n        \"False Positives\"=FalPos), digits=2) # Prints fewer digits\n\n       Accuracy           Error     Sensitivity     Specificity False Positives \n           0.77            0.23            0.70            0.80            0.20 \n\nrf.rates &lt;- c(\"Accuracy\"=Accuracy,\n        \"Error\"=Error,\n        \"Sensitivity\"=Sensitivity,\n        \"Specificity\"=Specificity,\n        \"False Positives\"=FalPos)\n\n\n# convert preds to numeric\npreds &lt;- ifelse(as.character(preds) == '0',0,1)\n\npred &lt;- prediction(preds,churn$Churn[-train])\nperf &lt;- performance(pred,\"tpr\",\"fpr\")\nplot(perf,colorize=T)\n\n\n\n\n\n\n\nauc &lt;- performance(pred,\"auc\")\nc(auc@y.name[[1]], auc@y.values[[1]])\n\n[1] \"Area under the ROC curve\" \"0.752133952220864\""
  },
  {
    "objectID": "posts/telco/index.html",
    "href": "posts/telco/index.html",
    "title": "Customer Churn Modeling with R",
    "section": "",
    "text": "Introduction\nFor this project, I worked witrh a fellow classmate to build a classification model to predict customer churn.\n\n\n\nBusiness Problem\nCustomer churn threatens revenue and growth in industries like telecommunications. The goal of this project was to build a predictive model to classify customers as high or low churn risk—allowing Telco to proactively address churn and improve customer retention.\n\n\n\nKey Predictors Analyzed\n\nTenure: Longer tenure = lower churn\nMonthly Charges: Higher charges = higher churn\nContract Type: Month-to-month contracts are more likely to churn\nInternet Service Type: Quality and availability impact churn risk\n\nOther significant variables: SeniorCitizen, MultipleLines, PaperlessBilling, PaymentMethod, TotalCharges\n\n\n\nData Insights\n\nAverage customer tenure: 32 months\nChurn negatively correlated with tenure and contract length\nCustomers with long-term contracts are more likely to stay\nCustomers with higher monthly charges are more likely to churn\n\n\n###️ Methods & Modeling\nThree classification models were developed using a 60/40 train/test split and a threshold of 0.35 (to balance sensitivity and specificity):\n\nLogistic Regression\nLinear Discriminant Analysis\nRandom Forest (bagging approach, mtry = 8)\n\n\n\n\nModel Performance\n\nAll models achieved ~77% accuracy\nHigher specificity than sensitivity due to class imbalance\nLogistic regression chosen for its interpretability and business value\n\n\nRecommended strategy: Lower the threshold to increase sensitivity, even at the cost of more false positives—because missing churners is riskier than flagging false ones.\n\n\n\n\nFinal Recommendation\nUse the logistic regression model to guide customer retention efforts. It provides interpretable coefficients for business decisions and aligns best with Telco’s goal of predicting and preventing customer churn.\n\n\n\nComplete Analysis\nI authored the following R code to arrive at the insights summarized above."
  },
  {
    "objectID": "static/welcome/index.html",
    "href": "static/welcome/index.html",
    "title": "Welcome To My Blog",
    "section": "",
    "text": "This is the first post in a Quarto blog. Welcome!\n\nSince this post doesn’t specify an explicit image, the first image in the post will be used in the listing page of posts."
  },
  {
    "objectID": "static/post-with-code/index.html",
    "href": "static/post-with-code/index.html",
    "title": "Post With Code",
    "section": "",
    "text": "This is a post with executable code.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "static/customerchurn_prelim_da.html",
    "href": "static/customerchurn_prelim_da.html",
    "title": "TELCO Customer Churn",
    "section": "",
    "text": "This section is an initial data analysis of all variables as an early assessment of fit for predictive modeling.\n\n\n\nlibrary(tidyverse)\nlibrary(car)\nlibrary(klaR)\nlibrary(lmtest)\nlibrary(car)\nlibrary(ROCR)\nlibrary(MASS)\nlibrary(tree)\nlibrary(randomForest)\n\n\nchurn &lt;- read_csv('WA_Fn-UseC_-Telco-Customer-Churn.csv')\n# look at NA values - might be able to compute regression model to impute those values\nglimpse(churn)\n\nRows: 7,043\nColumns: 21\n$ customerID       &lt;chr&gt; \"7590-VHVEG\", \"5575-GNVDE\", \"3668-QPYBK\", \"7795-CFOCW…\n$ gender           &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\",…\n$ SeniorCitizen    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Partner          &lt;chr&gt; \"Yes\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ Dependents       &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\"…\n$ tenure           &lt;dbl&gt; 1, 34, 2, 45, 2, 8, 22, 10, 28, 62, 13, 16, 58, 49, 2…\n$ PhoneService     &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ MultipleLines    &lt;chr&gt; \"No phone service\", \"No\", \"No\", \"No phone service\", \"…\n$ InternetService  &lt;chr&gt; \"DSL\", \"DSL\", \"DSL\", \"DSL\", \"Fiber optic\", \"Fiber opt…\n$ OnlineSecurity   &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"…\n$ OnlineBackup     &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"N…\n$ DeviceProtection &lt;chr&gt; \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"Y…\n$ TechSupport      &lt;chr&gt; \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ StreamingTV      &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"Yes\", \"No\", \"Ye…\n$ StreamingMovies  &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"Yes…\n$ Contract         &lt;chr&gt; \"Month-to-month\", \"One year\", \"Month-to-month\", \"One …\n$ PaperlessBilling &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ PaymentMethod    &lt;chr&gt; \"Electronic check\", \"Mailed check\", \"Mailed check\", \"…\n$ MonthlyCharges   &lt;dbl&gt; 29.85, 56.95, 53.85, 42.30, 70.70, 99.65, 89.10, 29.7…\n$ TotalCharges     &lt;dbl&gt; 29.85, 1889.50, 108.15, 1840.75, 151.65, 820.50, 1949…\n$ Churn            &lt;chr&gt; \"No\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"No\", \"No\", \"Y…\n\n# Removes 21 observations\nchurn &lt;- na.omit(churn)\nglimpse(churn)\n\nRows: 7,032\nColumns: 21\n$ customerID       &lt;chr&gt; \"7590-VHVEG\", \"5575-GNVDE\", \"3668-QPYBK\", \"7795-CFOCW…\n$ gender           &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\",…\n$ SeniorCitizen    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Partner          &lt;chr&gt; \"Yes\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ Dependents       &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\"…\n$ tenure           &lt;dbl&gt; 1, 34, 2, 45, 2, 8, 22, 10, 28, 62, 13, 16, 58, 49, 2…\n$ PhoneService     &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ MultipleLines    &lt;chr&gt; \"No phone service\", \"No\", \"No\", \"No phone service\", \"…\n$ InternetService  &lt;chr&gt; \"DSL\", \"DSL\", \"DSL\", \"DSL\", \"Fiber optic\", \"Fiber opt…\n$ OnlineSecurity   &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"…\n$ OnlineBackup     &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"N…\n$ DeviceProtection &lt;chr&gt; \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"Y…\n$ TechSupport      &lt;chr&gt; \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ StreamingTV      &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"Yes\", \"No\", \"Ye…\n$ StreamingMovies  &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"Yes…\n$ Contract         &lt;chr&gt; \"Month-to-month\", \"One year\", \"Month-to-month\", \"One …\n$ PaperlessBilling &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ PaymentMethod    &lt;chr&gt; \"Electronic check\", \"Mailed check\", \"Mailed check\", \"…\n$ MonthlyCharges   &lt;dbl&gt; 29.85, 56.95, 53.85, 42.30, 70.70, 99.65, 89.10, 29.7…\n$ TotalCharges     &lt;dbl&gt; 29.85, 1889.50, 108.15, 1840.75, 151.65, 820.50, 1949…\n$ Churn            &lt;chr&gt; \"No\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"No\", \"No\", \"Y…\n\nsummary(churn)\n\n  customerID           gender          SeniorCitizen      Partner         \n Length:7032        Length:7032        Min.   :0.0000   Length:7032       \n Class :character   Class :character   1st Qu.:0.0000   Class :character  \n Mode  :character   Mode  :character   Median :0.0000   Mode  :character  \n                                       Mean   :0.1624                     \n                                       3rd Qu.:0.0000                     \n                                       Max.   :1.0000                     \n  Dependents            tenure      PhoneService       MultipleLines     \n Length:7032        Min.   : 1.00   Length:7032        Length:7032       \n Class :character   1st Qu.: 9.00   Class :character   Class :character  \n Mode  :character   Median :29.00   Mode  :character   Mode  :character  \n                    Mean   :32.42                                        \n                    3rd Qu.:55.00                                        \n                    Max.   :72.00                                        \n InternetService    OnlineSecurity     OnlineBackup       DeviceProtection  \n Length:7032        Length:7032        Length:7032        Length:7032       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n TechSupport        StreamingTV        StreamingMovies      Contract        \n Length:7032        Length:7032        Length:7032        Length:7032       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n PaperlessBilling   PaymentMethod      MonthlyCharges    TotalCharges   \n Length:7032        Length:7032        Min.   : 18.25   Min.   :  18.8  \n Class :character   Class :character   1st Qu.: 35.59   1st Qu.: 401.4  \n Mode  :character   Mode  :character   Median : 70.35   Median :1397.5  \n                                       Mean   : 64.80   Mean   :2283.3  \n                                       3rd Qu.: 89.86   3rd Qu.:3794.7  \n                                       Max.   :118.75   Max.   :8684.8  \n    Churn          \n Length:7032       \n Class :character  \n Mode  :character  \n                   \n                   \n                   \n\n\n\n\n\n\ntable(churn$Churn)\n\n\n  No  Yes \n5163 1869 \n\n\nThere are many more observations for customers who did not churn, which may make any model biased towards predicting no churn.\n\n\n\n\n# Select character variables\nnames(churn)[map_lgl(churn, is.character)]\n\n [1] \"customerID\"       \"gender\"           \"Partner\"          \"Dependents\"      \n [5] \"PhoneService\"     \"MultipleLines\"    \"InternetService\"  \"OnlineSecurity\"  \n [9] \"OnlineBackup\"     \"DeviceProtection\" \"TechSupport\"      \"StreamingTV\"     \n[13] \"StreamingMovies\"  \"Contract\"         \"PaperlessBilling\" \"PaymentMethod\"   \n[17] \"Churn\"           \n\n\n\n# create a vector of character variables\nchar_vars &lt;- c(\"gender\",\"Partner\",\"Dependents\",\"PhoneService\",\"MultipleLines\",\"InternetService\",\"OnlineSecurity\",\"OnlineBackup\",\"DeviceProtection\",\"TechSupport\",\"StreamingTV\",\"StreamingMovies\",\"Contract\",\"PaperlessBilling\",\"PaymentMethod\")\n\n\n\nThis section checks to see if there are any categories with very few observations for each of the categorical variables.\n\nfor (var in char_vars) {\n  print(var)\n  print(table(churn[[var]]))\n}\n\n[1] \"gender\"\n\nFemale   Male \n  3483   3549 \n[1] \"Partner\"\n\n  No  Yes \n3639 3393 \n[1] \"Dependents\"\n\n  No  Yes \n4933 2099 \n[1] \"PhoneService\"\n\n  No  Yes \n 680 6352 \n[1] \"MultipleLines\"\n\n              No No phone service              Yes \n            3385              680             2967 \n[1] \"InternetService\"\n\n        DSL Fiber optic          No \n       2416        3096        1520 \n[1] \"OnlineSecurity\"\n\n                 No No internet service                 Yes \n               3497                1520                2015 \n[1] \"OnlineBackup\"\n\n                 No No internet service                 Yes \n               3087                1520                2425 \n[1] \"DeviceProtection\"\n\n                 No No internet service                 Yes \n               3094                1520                2418 \n[1] \"TechSupport\"\n\n                 No No internet service                 Yes \n               3472                1520                2040 \n[1] \"StreamingTV\"\n\n                 No No internet service                 Yes \n               2809                1520                2703 \n[1] \"StreamingMovies\"\n\n                 No No internet service                 Yes \n               2781                1520                2731 \n[1] \"Contract\"\n\nMonth-to-month       One year       Two year \n          3875           1472           1685 \n[1] \"PaperlessBilling\"\n\n  No  Yes \n2864 4168 \n[1] \"PaymentMethod\"\n\nBank transfer (automatic)   Credit card (automatic)          Electronic check \n                     1542                      1521                      2365 \n             Mailed check \n                     1604 \n\n\nWhile there are some variables that have an imbalance of counts for each category, for the most part, every categorical variable has enough observations with in each category.\n\n\n\n\ntable(churn$gender,churn$Churn)\n\n        \n           No  Yes\n  Female 2544  939\n  Male   2619  930\n\nchisq.test(table(churn$gender,churn$Churn)) \n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$gender, churn$Churn)\nX-squared = 0.47545, df = 1, p-value = 0.4905\n\nggplot(churn, aes(x = factor(gender), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Gender\", x = \"Gender\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$SeniorCitizen,churn$Churn)\n\n   \n      No  Yes\n  0 4497 1393\n  1  666  476\n\nchisq.test(table(churn$SeniorCitizen,churn$Churn)) \n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$SeniorCitizen, churn$Churn)\nX-squared = 158.44, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(SeniorCitizen), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by SeniorCitizen Status\", x = \"SeniorCitizen\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$Partner,churn$Churn)\n\n     \n        No  Yes\n  No  2439 1200\n  Yes 2724  669\n\nchisq.test(table(churn$Partner,churn$Churn))\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$Partner, churn$Churn)\nX-squared = 157.5, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(Partner), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Partner Status\", x = \"Partner\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$Dependents,churn$Churn)\n\n     \n        No  Yes\n  No  3390 1543\n  Yes 1773  326\n\nchisq.test(table(churn$Dependents,churn$Churn)) \n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$Dependents, churn$Churn)\nX-squared = 186.32, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(Dependents), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Dependents\", x = \"Dependents\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$PhoneService,churn$Churn)\n\n     \n        No  Yes\n  No   510  170\n  Yes 4653 1699\n\nchisq.test(table(churn$PhoneService,churn$Churn))\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$PhoneService, churn$Churn)\nX-squared = 0.87373, df = 1, p-value = 0.3499\n\nggplot(churn, aes(x = factor(PhoneService), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by PhoneService\", x = \"PhoneService\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$MultipleLines,churn$Churn)\n\n                  \n                     No  Yes\n  No               2536  849\n  No phone service  510  170\n  Yes              2117  850\n\nchisq.test(table(churn$MultipleLines,churn$Churn)) \n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$MultipleLines, churn$Churn)\nX-squared = 11.272, df = 2, p-value = 0.003568\n\nggplot(churn, aes(x = factor(MultipleLines), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by MultipleLines\", x = \"MultipleLines\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$InternetService,churn$Churn)\n\n             \n                No  Yes\n  DSL         1957  459\n  Fiber optic 1799 1297\n  No          1407  113\n\nchisq.test(table(churn$InternetService,churn$Churn)) \n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$InternetService, churn$Churn)\nX-squared = 728.7, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(InternetService), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by InternetService\", x = \"InternetService\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$OnlineSecurity,churn$Churn)\n\n                     \n                        No  Yes\n  No                  2036 1461\n  No internet service 1407  113\n  Yes                 1720  295\n\nchisq.test(table(churn$OnlineSecurity,churn$Churn)) \n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$OnlineSecurity, churn$Churn)\nX-squared = 846.68, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(OnlineSecurity), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by OnlineSecurity\", x = \"OnlineSecurity\", y = \"Proportion\")  \n\n\n\n\n\n\n\n\n\ntable(churn$OnlineBackup,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1854 1233\n  No internet service 1407  113\n  Yes                 1902  523\n\nchisq.test(table(churn$OnlineBackup,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$OnlineBackup, churn$Churn)\nX-squared = 599.18, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(OnlineBackup), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by OnlineBackup\", x = \"OnlineBackup\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$DeviceProtection,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1883 1211\n  No internet service 1407  113\n  Yes                 1873  545\n\nchisq.test(table(churn$DeviceProtection,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$DeviceProtection, churn$Churn)\nX-squared = 555.88, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(DeviceProtection), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by DeviceProtection\", x = \"DeviceProtection\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$TechSupport,churn$Churn)\n\n                     \n                        No  Yes\n  No                  2026 1446\n  No internet service 1407  113\n  Yes                 1730  310\n\nchisq.test(table(churn$TechSupport,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$TechSupport, churn$Churn)\nX-squared = 824.93, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(TechSupport), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by TechSupport\", x = \"TechSupport\", y = \"Proportion\")  \n\n\n\n\n\n\n\n\n\ntable(churn$StreamingTV,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1867  942\n  No internet service 1407  113\n  Yes                 1889  814\n\nchisq.test(table(churn$StreamingTV,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$StreamingTV, churn$Churn)\nX-squared = 372.46, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(StreamingTV), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by StreamingTV\", x = \"StreamingTV\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$StreamingMovies,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1843  938\n  No internet service 1407  113\n  Yes                 1913  818\n\nchisq.test(table(churn$StreamingMovies,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$StreamingMovies, churn$Churn)\nX-squared = 374.27, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(StreamingMovies), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by StreamingMovies\", x = \"StreamingMovies\", y = \"Proportion\")  \n\n\n\n\n\n\n\n\n\ntable(churn$Contract,churn$Churn)\n\n                \n                   No  Yes\n  Month-to-month 2220 1655\n  One year       1306  166\n  Two year       1637   48\n\nchisq.test(table(churn$Contract,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$Contract, churn$Churn)\nX-squared = 1179.5, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(Contract), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Contract\", x = \"Contract\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$PaperlessBilling,churn$Churn)\n\n     \n        No  Yes\n  No  2395  469\n  Yes 2768 1400\n\nchisq.test(table(churn$PaperlessBilling,churn$Churn))\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$PaperlessBilling, churn$Churn)\nX-squared = 256.87, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(PaperlessBilling), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by PaperlessBilling\", x = \"PaperlessBilling\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$PaymentMethod,churn$Churn)\n\n                           \n                              No  Yes\n  Bank transfer (automatic) 1284  258\n  Credit card (automatic)   1289  232\n  Electronic check          1294 1071\n  Mailed check              1296  308\n\nchisq.test(table(churn$PaymentMethod,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$PaymentMethod, churn$Churn)\nX-squared = 645.43, df = 3, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(PaymentMethod), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by PaymentMethod\", x = \"PaymentMethod\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nboxplot(MonthlyCharges~Churn, data = churn)\n\n\n\n\n\n\n\n\n\nboxplot(tenure~Churn, data = churn)\n\n\n\n\n\n\n\n\n\nboxplot(TotalCharges~Churn, data = churn)\n\n\n\n\n\n\n\n\n\n\n\nMonthlyCharges, tenure, and TotalCharges\n\npar(mfrow=c(2,3))\n\nhist(churn$MonthlyCharges)\nhist(churn$tenure)\nhist(churn$TotalCharges)\n\nhist(log(churn$MonthlyCharges))\nhist(log(churn$tenure))\nhist(log(churn$TotalCharges))\n\n\n\n\n\n\n\n\nThe numeric predictors are not normally distributed which may lead to the model having greater predictor power given certain values of predictors rather than others."
  },
  {
    "objectID": "static/customerchurn_prelim_da.html#summary-statistics",
    "href": "static/customerchurn_prelim_da.html#summary-statistics",
    "title": "TELCO Customer Churn",
    "section": "",
    "text": "library(tidyverse)\nlibrary(car)\nlibrary(klaR)\nlibrary(lmtest)\nlibrary(car)\nlibrary(ROCR)\nlibrary(MASS)\nlibrary(tree)\nlibrary(randomForest)\n\n\nchurn &lt;- read_csv('WA_Fn-UseC_-Telco-Customer-Churn.csv')\n# look at NA values - might be able to compute regression model to impute those values\nglimpse(churn)\n\nRows: 7,043\nColumns: 21\n$ customerID       &lt;chr&gt; \"7590-VHVEG\", \"5575-GNVDE\", \"3668-QPYBK\", \"7795-CFOCW…\n$ gender           &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\",…\n$ SeniorCitizen    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Partner          &lt;chr&gt; \"Yes\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ Dependents       &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\"…\n$ tenure           &lt;dbl&gt; 1, 34, 2, 45, 2, 8, 22, 10, 28, 62, 13, 16, 58, 49, 2…\n$ PhoneService     &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ MultipleLines    &lt;chr&gt; \"No phone service\", \"No\", \"No\", \"No phone service\", \"…\n$ InternetService  &lt;chr&gt; \"DSL\", \"DSL\", \"DSL\", \"DSL\", \"Fiber optic\", \"Fiber opt…\n$ OnlineSecurity   &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"…\n$ OnlineBackup     &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"N…\n$ DeviceProtection &lt;chr&gt; \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"Y…\n$ TechSupport      &lt;chr&gt; \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ StreamingTV      &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"Yes\", \"No\", \"Ye…\n$ StreamingMovies  &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"Yes…\n$ Contract         &lt;chr&gt; \"Month-to-month\", \"One year\", \"Month-to-month\", \"One …\n$ PaperlessBilling &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ PaymentMethod    &lt;chr&gt; \"Electronic check\", \"Mailed check\", \"Mailed check\", \"…\n$ MonthlyCharges   &lt;dbl&gt; 29.85, 56.95, 53.85, 42.30, 70.70, 99.65, 89.10, 29.7…\n$ TotalCharges     &lt;dbl&gt; 29.85, 1889.50, 108.15, 1840.75, 151.65, 820.50, 1949…\n$ Churn            &lt;chr&gt; \"No\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"No\", \"No\", \"Y…\n\n# Removes 21 observations\nchurn &lt;- na.omit(churn)\nglimpse(churn)\n\nRows: 7,032\nColumns: 21\n$ customerID       &lt;chr&gt; \"7590-VHVEG\", \"5575-GNVDE\", \"3668-QPYBK\", \"7795-CFOCW…\n$ gender           &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\",…\n$ SeniorCitizen    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Partner          &lt;chr&gt; \"Yes\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ Dependents       &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\"…\n$ tenure           &lt;dbl&gt; 1, 34, 2, 45, 2, 8, 22, 10, 28, 62, 13, 16, 58, 49, 2…\n$ PhoneService     &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ MultipleLines    &lt;chr&gt; \"No phone service\", \"No\", \"No\", \"No phone service\", \"…\n$ InternetService  &lt;chr&gt; \"DSL\", \"DSL\", \"DSL\", \"DSL\", \"Fiber optic\", \"Fiber opt…\n$ OnlineSecurity   &lt;chr&gt; \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"…\n$ OnlineBackup     &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"N…\n$ DeviceProtection &lt;chr&gt; \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"No\", \"No\", \"Y…\n$ TechSupport      &lt;chr&gt; \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"No\", \"No\", \"Yes…\n$ StreamingTV      &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"Yes\", \"No\", \"Ye…\n$ StreamingMovies  &lt;chr&gt; \"No\", \"No\", \"No\", \"No\", \"No\", \"Yes\", \"No\", \"No\", \"Yes…\n$ Contract         &lt;chr&gt; \"Month-to-month\", \"One year\", \"Month-to-month\", \"One …\n$ PaperlessBilling &lt;chr&gt; \"Yes\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"Yes\", \"No\", …\n$ PaymentMethod    &lt;chr&gt; \"Electronic check\", \"Mailed check\", \"Mailed check\", \"…\n$ MonthlyCharges   &lt;dbl&gt; 29.85, 56.95, 53.85, 42.30, 70.70, 99.65, 89.10, 29.7…\n$ TotalCharges     &lt;dbl&gt; 29.85, 1889.50, 108.15, 1840.75, 151.65, 820.50, 1949…\n$ Churn            &lt;chr&gt; \"No\", \"No\", \"Yes\", \"No\", \"Yes\", \"Yes\", \"No\", \"No\", \"Y…\n\nsummary(churn)\n\n  customerID           gender          SeniorCitizen      Partner         \n Length:7032        Length:7032        Min.   :0.0000   Length:7032       \n Class :character   Class :character   1st Qu.:0.0000   Class :character  \n Mode  :character   Mode  :character   Median :0.0000   Mode  :character  \n                                       Mean   :0.1624                     \n                                       3rd Qu.:0.0000                     \n                                       Max.   :1.0000                     \n  Dependents            tenure      PhoneService       MultipleLines     \n Length:7032        Min.   : 1.00   Length:7032        Length:7032       \n Class :character   1st Qu.: 9.00   Class :character   Class :character  \n Mode  :character   Median :29.00   Mode  :character   Mode  :character  \n                    Mean   :32.42                                        \n                    3rd Qu.:55.00                                        \n                    Max.   :72.00                                        \n InternetService    OnlineSecurity     OnlineBackup       DeviceProtection  \n Length:7032        Length:7032        Length:7032        Length:7032       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n TechSupport        StreamingTV        StreamingMovies      Contract        \n Length:7032        Length:7032        Length:7032        Length:7032       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n PaperlessBilling   PaymentMethod      MonthlyCharges    TotalCharges   \n Length:7032        Length:7032        Min.   : 18.25   Min.   :  18.8  \n Class :character   Class :character   1st Qu.: 35.59   1st Qu.: 401.4  \n Mode  :character   Mode  :character   Median : 70.35   Median :1397.5  \n                                       Mean   : 64.80   Mean   :2283.3  \n                                       3rd Qu.: 89.86   3rd Qu.:3794.7  \n                                       Max.   :118.75   Max.   :8684.8  \n    Churn          \n Length:7032       \n Class :character  \n Mode  :character"
  },
  {
    "objectID": "static/customerchurn_prelim_da.html#outcome-variable",
    "href": "static/customerchurn_prelim_da.html#outcome-variable",
    "title": "TELCO Customer Churn",
    "section": "",
    "text": "table(churn$Churn)\n\n\n  No  Yes \n5163 1869 \n\n\nThere are many more observations for customers who did not churn, which may make any model biased towards predicting no churn."
  },
  {
    "objectID": "static/customerchurn_prelim_da.html#character-variables",
    "href": "static/customerchurn_prelim_da.html#character-variables",
    "title": "TELCO Customer Churn",
    "section": "",
    "text": "# Select character variables\nnames(churn)[map_lgl(churn, is.character)]\n\n [1] \"customerID\"       \"gender\"           \"Partner\"          \"Dependents\"      \n [5] \"PhoneService\"     \"MultipleLines\"    \"InternetService\"  \"OnlineSecurity\"  \n [9] \"OnlineBackup\"     \"DeviceProtection\" \"TechSupport\"      \"StreamingTV\"     \n[13] \"StreamingMovies\"  \"Contract\"         \"PaperlessBilling\" \"PaymentMethod\"   \n[17] \"Churn\"           \n\n\n\n# create a vector of character variables\nchar_vars &lt;- c(\"gender\",\"Partner\",\"Dependents\",\"PhoneService\",\"MultipleLines\",\"InternetService\",\"OnlineSecurity\",\"OnlineBackup\",\"DeviceProtection\",\"TechSupport\",\"StreamingTV\",\"StreamingMovies\",\"Contract\",\"PaperlessBilling\",\"PaymentMethod\")\n\n\n\nThis section checks to see if there are any categories with very few observations for each of the categorical variables.\n\nfor (var in char_vars) {\n  print(var)\n  print(table(churn[[var]]))\n}\n\n[1] \"gender\"\n\nFemale   Male \n  3483   3549 \n[1] \"Partner\"\n\n  No  Yes \n3639 3393 \n[1] \"Dependents\"\n\n  No  Yes \n4933 2099 \n[1] \"PhoneService\"\n\n  No  Yes \n 680 6352 \n[1] \"MultipleLines\"\n\n              No No phone service              Yes \n            3385              680             2967 \n[1] \"InternetService\"\n\n        DSL Fiber optic          No \n       2416        3096        1520 \n[1] \"OnlineSecurity\"\n\n                 No No internet service                 Yes \n               3497                1520                2015 \n[1] \"OnlineBackup\"\n\n                 No No internet service                 Yes \n               3087                1520                2425 \n[1] \"DeviceProtection\"\n\n                 No No internet service                 Yes \n               3094                1520                2418 \n[1] \"TechSupport\"\n\n                 No No internet service                 Yes \n               3472                1520                2040 \n[1] \"StreamingTV\"\n\n                 No No internet service                 Yes \n               2809                1520                2703 \n[1] \"StreamingMovies\"\n\n                 No No internet service                 Yes \n               2781                1520                2731 \n[1] \"Contract\"\n\nMonth-to-month       One year       Two year \n          3875           1472           1685 \n[1] \"PaperlessBilling\"\n\n  No  Yes \n2864 4168 \n[1] \"PaymentMethod\"\n\nBank transfer (automatic)   Credit card (automatic)          Electronic check \n                     1542                      1521                      2365 \n             Mailed check \n                     1604 \n\n\nWhile there are some variables that have an imbalance of counts for each category, for the most part, every categorical variable has enough observations with in each category.\n\n\n\n\ntable(churn$gender,churn$Churn)\n\n        \n           No  Yes\n  Female 2544  939\n  Male   2619  930\n\nchisq.test(table(churn$gender,churn$Churn)) \n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$gender, churn$Churn)\nX-squared = 0.47545, df = 1, p-value = 0.4905\n\nggplot(churn, aes(x = factor(gender), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Gender\", x = \"Gender\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$SeniorCitizen,churn$Churn)\n\n   \n      No  Yes\n  0 4497 1393\n  1  666  476\n\nchisq.test(table(churn$SeniorCitizen,churn$Churn)) \n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$SeniorCitizen, churn$Churn)\nX-squared = 158.44, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(SeniorCitizen), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by SeniorCitizen Status\", x = \"SeniorCitizen\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$Partner,churn$Churn)\n\n     \n        No  Yes\n  No  2439 1200\n  Yes 2724  669\n\nchisq.test(table(churn$Partner,churn$Churn))\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$Partner, churn$Churn)\nX-squared = 157.5, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(Partner), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Partner Status\", x = \"Partner\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$Dependents,churn$Churn)\n\n     \n        No  Yes\n  No  3390 1543\n  Yes 1773  326\n\nchisq.test(table(churn$Dependents,churn$Churn)) \n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$Dependents, churn$Churn)\nX-squared = 186.32, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(Dependents), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Dependents\", x = \"Dependents\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$PhoneService,churn$Churn)\n\n     \n        No  Yes\n  No   510  170\n  Yes 4653 1699\n\nchisq.test(table(churn$PhoneService,churn$Churn))\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$PhoneService, churn$Churn)\nX-squared = 0.87373, df = 1, p-value = 0.3499\n\nggplot(churn, aes(x = factor(PhoneService), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by PhoneService\", x = \"PhoneService\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$MultipleLines,churn$Churn)\n\n                  \n                     No  Yes\n  No               2536  849\n  No phone service  510  170\n  Yes              2117  850\n\nchisq.test(table(churn$MultipleLines,churn$Churn)) \n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$MultipleLines, churn$Churn)\nX-squared = 11.272, df = 2, p-value = 0.003568\n\nggplot(churn, aes(x = factor(MultipleLines), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by MultipleLines\", x = \"MultipleLines\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$InternetService,churn$Churn)\n\n             \n                No  Yes\n  DSL         1957  459\n  Fiber optic 1799 1297\n  No          1407  113\n\nchisq.test(table(churn$InternetService,churn$Churn)) \n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$InternetService, churn$Churn)\nX-squared = 728.7, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(InternetService), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by InternetService\", x = \"InternetService\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$OnlineSecurity,churn$Churn)\n\n                     \n                        No  Yes\n  No                  2036 1461\n  No internet service 1407  113\n  Yes                 1720  295\n\nchisq.test(table(churn$OnlineSecurity,churn$Churn)) \n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$OnlineSecurity, churn$Churn)\nX-squared = 846.68, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(OnlineSecurity), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by OnlineSecurity\", x = \"OnlineSecurity\", y = \"Proportion\")  \n\n\n\n\n\n\n\n\n\ntable(churn$OnlineBackup,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1854 1233\n  No internet service 1407  113\n  Yes                 1902  523\n\nchisq.test(table(churn$OnlineBackup,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$OnlineBackup, churn$Churn)\nX-squared = 599.18, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(OnlineBackup), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by OnlineBackup\", x = \"OnlineBackup\", y = \"Proportion\")\n\n\n\n\n\n\n\n\n\ntable(churn$DeviceProtection,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1883 1211\n  No internet service 1407  113\n  Yes                 1873  545\n\nchisq.test(table(churn$DeviceProtection,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$DeviceProtection, churn$Churn)\nX-squared = 555.88, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(DeviceProtection), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by DeviceProtection\", x = \"DeviceProtection\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$TechSupport,churn$Churn)\n\n                     \n                        No  Yes\n  No                  2026 1446\n  No internet service 1407  113\n  Yes                 1730  310\n\nchisq.test(table(churn$TechSupport,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$TechSupport, churn$Churn)\nX-squared = 824.93, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(TechSupport), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by TechSupport\", x = \"TechSupport\", y = \"Proportion\")  \n\n\n\n\n\n\n\n\n\ntable(churn$StreamingTV,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1867  942\n  No internet service 1407  113\n  Yes                 1889  814\n\nchisq.test(table(churn$StreamingTV,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$StreamingTV, churn$Churn)\nX-squared = 372.46, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(StreamingTV), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by StreamingTV\", x = \"StreamingTV\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$StreamingMovies,churn$Churn)\n\n                     \n                        No  Yes\n  No                  1843  938\n  No internet service 1407  113\n  Yes                 1913  818\n\nchisq.test(table(churn$StreamingMovies,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$StreamingMovies, churn$Churn)\nX-squared = 374.27, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(StreamingMovies), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by StreamingMovies\", x = \"StreamingMovies\", y = \"Proportion\")  \n\n\n\n\n\n\n\n\n\ntable(churn$Contract,churn$Churn)\n\n                \n                   No  Yes\n  Month-to-month 2220 1655\n  One year       1306  166\n  Two year       1637   48\n\nchisq.test(table(churn$Contract,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$Contract, churn$Churn)\nX-squared = 1179.5, df = 2, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(Contract), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by Contract\", x = \"Contract\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$PaperlessBilling,churn$Churn)\n\n     \n        No  Yes\n  No  2395  469\n  Yes 2768 1400\n\nchisq.test(table(churn$PaperlessBilling,churn$Churn))\n\n\n    Pearson's Chi-squared test with Yates' continuity correction\n\ndata:  table(churn$PaperlessBilling, churn$Churn)\nX-squared = 256.87, df = 1, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(PaperlessBilling), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by PaperlessBilling\", x = \"PaperlessBilling\", y = \"Proportion\") \n\n\n\n\n\n\n\n\n\ntable(churn$PaymentMethod,churn$Churn)\n\n                           \n                              No  Yes\n  Bank transfer (automatic) 1284  258\n  Credit card (automatic)   1289  232\n  Electronic check          1294 1071\n  Mailed check              1296  308\n\nchisq.test(table(churn$PaymentMethod,churn$Churn))\n\n\n    Pearson's Chi-squared test\n\ndata:  table(churn$PaymentMethod, churn$Churn)\nX-squared = 645.43, df = 3, p-value &lt; 2.2e-16\n\nggplot(churn, aes(x = factor(PaymentMethod), fill = factor(Churn))) +\n    geom_bar(position = \"fill\") +\n    labs(title = \"Churn Rate by PaymentMethod\", x = \"PaymentMethod\", y = \"Proportion\")"
  },
  {
    "objectID": "static/customerchurn_prelim_da.html#numeric-variables",
    "href": "static/customerchurn_prelim_da.html#numeric-variables",
    "title": "TELCO Customer Churn",
    "section": "",
    "text": "boxplot(MonthlyCharges~Churn, data = churn)\n\n\n\n\n\n\n\n\n\nboxplot(tenure~Churn, data = churn)\n\n\n\n\n\n\n\n\n\nboxplot(TotalCharges~Churn, data = churn)\n\n\n\n\n\n\n\n\n\n\n\nMonthlyCharges, tenure, and TotalCharges\n\npar(mfrow=c(2,3))\n\nhist(churn$MonthlyCharges)\nhist(churn$tenure)\nhist(churn$TotalCharges)\n\nhist(log(churn$MonthlyCharges))\nhist(log(churn$tenure))\nhist(log(churn$TotalCharges))\n\n\n\n\n\n\n\n\nThe numeric predictors are not normally distributed which may lead to the model having greater predictor power given certain values of predictors rather than others."
  },
  {
    "objectID": "static/customerchurn_prelim_da.html#significant-predictors",
    "href": "static/customerchurn_prelim_da.html#significant-predictors",
    "title": "TELCO Customer Churn",
    "section": "Significant predictors",
    "text": "Significant predictors\nSection A.1.3.2 shows the outcome of chi-square tests to assess the relationship between each variable and the outcome variable, Churn. These tests determined that the following variables are significantly related to Churn: SeniorCitizen, Partner, Dependents, MultipleLines, InternetService, OnlineSecurity, OnlineBackup, DeviceProtection, TechSupport, StreamingTV, StreamingMovies, Contract, PaperlessBilling and PaymentMethod. And all numeric variables, Tenure, MonthlyCharges, and TotalCharges have significantly different means for Churn status.\n\n# Fit an initial model to further determine variable significance.\nchurn$Churn &lt;- ifelse(churn$Churn == 'Yes',1,0)\nchurn.fit &lt;- glm(Churn~.-customerID,family=binomial(link=\"logit\"),data = churn)\nsummary(churn.fit)\n\n\nCall:\nglm(formula = Churn ~ . - customerID, family = binomial(link = \"logit\"), \n    data = churn)\n\nCoefficients: (7 not defined because of singularities)\n                                       Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)                           1.165e+00  8.151e-01   1.430  0.15284    \ngenderMale                           -2.183e-02  6.480e-02  -0.337  0.73619    \nSeniorCitizen                         2.168e-01  8.453e-02   2.564  0.01033 *  \nPartnerYes                           -3.840e-04  7.783e-02  -0.005  0.99606    \nDependentsYes                        -1.485e-01  8.973e-02  -1.655  0.09796 .  \ntenure                               -6.059e-02  6.236e-03  -9.716  &lt; 2e-16 ***\nPhoneServiceYes                       1.715e-01  6.487e-01   0.264  0.79153    \nMultipleLinesNo phone service                NA         NA      NA       NA    \nMultipleLinesYes                      4.484e-01  1.773e-01   2.530  0.01142 *  \nInternetServiceFiber optic            1.747e+00  7.981e-01   2.190  0.02855 *  \nInternetServiceNo                    -1.786e+00  8.073e-01  -2.213  0.02691 *  \nOnlineSecurityNo internet service            NA         NA      NA       NA    \nOnlineSecurityYes                    -2.054e-01  1.787e-01  -1.150  0.25031    \nOnlineBackupNo internet service              NA         NA      NA       NA    \nOnlineBackupYes                       2.604e-02  1.754e-01   0.148  0.88197    \nDeviceProtectionNo internet service          NA         NA      NA       NA    \nDeviceProtectionYes                   1.474e-01  1.764e-01   0.836  0.40339    \nTechSupportNo internet service               NA         NA      NA       NA    \nTechSupportYes                       -1.805e-01  1.806e-01  -0.999  0.31759    \nStreamingTVNo internet service               NA         NA      NA       NA    \nStreamingTVYes                        5.905e-01  3.263e-01   1.810  0.07035 .  \nStreamingMoviesNo internet service           NA         NA      NA       NA    \nStreamingMoviesYes                    5.993e-01  3.267e-01   1.834  0.06658 .  \nContractOne year                     -6.608e-01  1.076e-01  -6.142 8.15e-10 ***\nContractTwo year                     -1.357e+00  1.764e-01  -7.691 1.46e-14 ***\nPaperlessBillingYes                   3.424e-01  7.450e-02   4.596 4.31e-06 ***\nPaymentMethodCredit card (automatic) -8.779e-02  1.141e-01  -0.770  0.44156    \nPaymentMethodElectronic check         3.045e-01  9.450e-02   3.222  0.00127 ** \nPaymentMethodMailed check            -5.759e-02  1.149e-01  -0.501  0.61627    \nMonthlyCharges                       -4.034e-02  3.176e-02  -1.270  0.20392    \nTotalCharges                          3.289e-04  7.063e-05   4.657 3.20e-06 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 8143.4  on 7031  degrees of freedom\nResidual deviance: 5826.3  on 7008  degrees of freedom\nAIC: 5874.3\n\nNumber of Fisher Scoring iterations: 6\n\nrequire(coefplot)\ncoefplot(churn.fit)\n\n\n\n\n\n\n\n\nThis model indicates that considering all variables available, the following variables are significantly related to Churn.\n\nchurn.fit.reduced &lt;- glm(Churn~SeniorCitizen+tenure+MultipleLines+InternetService+Contract+PaperlessBilling+PaymentMethod+TotalCharges,family=binomial(link=\"logit\"),data = churn)\nsummary(churn.fit.reduced)\n\n\nCall:\nglm(formula = Churn ~ SeniorCitizen + tenure + MultipleLines + \n    InternetService + Contract + PaperlessBilling + PaymentMethod + \n    TotalCharges, family = binomial(link = \"logit\"), data = churn)\n\nCoefficients:\n                                       Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)                          -0.7524686  0.1216481  -6.186 6.19e-10 ***\nSeniorCitizen                         0.2838042  0.0820511   3.459 0.000542 ***\ntenure                               -0.0623101  0.0059172 -10.530  &lt; 2e-16 ***\nMultipleLinesNo phone service         0.7163172  0.1296922   5.523 3.33e-08 ***\nMultipleLinesYes                      0.2794728  0.0788261   3.545 0.000392 ***\nInternetServiceFiber optic            0.9105034  0.0951849   9.566  &lt; 2e-16 ***\nInternetServiceNo                    -0.5347664  0.1307872  -4.089 4.34e-05 ***\nContractOne year                     -0.7177526  0.1051426  -6.826 8.70e-12 ***\nContractTwo year                     -1.5309937  0.1736988  -8.814  &lt; 2e-16 ***\nPaperlessBillingYes                   0.3843680  0.0734646   5.232 1.68e-07 ***\nPaymentMethodCredit card (automatic) -0.0969663  0.1131124  -0.857 0.391303    \nPaymentMethodElectronic check         0.3697148  0.0934143   3.958 7.56e-05 ***\nPaymentMethodMailed check            -0.0803387  0.1135281  -0.708 0.479160    \nTotalCharges                          0.0003168  0.0000630   5.029 4.94e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 8143.4  on 7031  degrees of freedom\nResidual deviance: 5899.8  on 7018  degrees of freedom\nAIC: 5927.8\n\nNumber of Fisher Scoring iterations: 6\n\n\nBut we will use variable selection to determine the ultimate best model."
  },
  {
    "objectID": "static/customerchurn_prelim_da.html#multicollinearity",
    "href": "static/customerchurn_prelim_da.html#multicollinearity",
    "title": "TELCO Customer Churn",
    "section": "Multicollinearity",
    "text": "Multicollinearity\n\n# Xs are independent (uncorrelated)\ncond.index(churn.fit, data=churn)\n\n [1] 1.000000e+00 1.361638e+00 2.737057e+00 3.255377e+00 3.637219e+00\n [6] 3.720449e+00 3.993979e+00 4.232393e+00 4.362516e+00 4.723229e+00\n[11] 5.126693e+00 5.241772e+00 5.355070e+00 5.635948e+00 5.751611e+00\n[16] 6.355325e+00 6.648467e+00 6.716715e+00 6.907980e+00 7.422290e+00\n[21] 9.573179e+00 1.117690e+01 2.289433e+01 2.812095e+02 8.631410e+07\n[26] 1.021002e+08 1.021002e+08 1.021002e+08 1.021002e+08 1.021002e+08\n[31] 1.021002e+08\n\ncond.index(churn.fit.reduced, data=churn)\n\n [1]  1.000000  1.851448  2.188398  2.371296  2.496958  2.842187  3.032654\n [8]  3.195287  4.156824  4.535447  5.204044  6.324844  9.710559 13.676272\n\n\nThe CI for the full model is very high at 102,100,200. The reduced model with only variables signficant the 95 percent level has a much lower CI.\n\nvif(churn.fit.reduced)\n\n                      GVIF Df GVIF^(1/(2*Df))\nSeniorCitizen     1.085653  1        1.041947\ntenure           14.365387  1        3.790170\nMultipleLines     1.903615  2        1.174613\nInternetService   2.350769  2        1.238233\nContract          1.515189  2        1.109473\nPaperlessBilling  1.113868  1        1.055399\nPaymentMethod     1.340114  3        1.050002\nTotalCharges     16.454504  1        4.056415\n\n\nNone of the variance inflation factors for the variables in the reduced model exceeds the threshold of 10."
  },
  {
    "objectID": "static/customerchurn_prelim_da.html#outliers-variable-distributions",
    "href": "static/customerchurn_prelim_da.html#outliers-variable-distributions",
    "title": "TELCO Customer Churn",
    "section": "Outliers & Variable Distributions",
    "text": "Outliers & Variable Distributions\nSevere outliers do not appear to be a problem for any of the variables, but all variables do have either a non-normal, skewed, or slightly unbalanced distributions. Therefore, this dataset is likely to produce models with high variation.\n\nplot(churn.fit.reduced, which = 3)\n\n\n\n\n\n\n\nplot(churn.fit.reduced, which = 4)\n\n\n\n\n\n\n\n\n\nchurn[c(269,4266,4812),c(\"SeniorCitizen\",\"tenure\",\"MultipleLines\",\"InternetService\",\"Contract\",\"PaperlessBilling\",\"PaymentMethod\",\"TotalCharges\")]\n\n# A tibble: 3 × 8\n  SeniorCitizen tenure MultipleLines InternetService Contract PaperlessBilling\n          &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;           &lt;chr&gt;    &lt;chr&gt;           \n1             0     59 No            No              Two year No              \n2             0     56 Yes           No              Two year Yes             \n3             0     53 No            No              Two year No              \n# ℹ 2 more variables: PaymentMethod &lt;chr&gt;, TotalCharges &lt;dbl&gt;\n\n\n\nsummary(churn[,c(\"SeniorCitizen\",\"tenure\",\"MultipleLines\",\"InternetService\",\"Contract\",\"PaperlessBilling\",\"PaymentMethod\",\"TotalCharges\")])\n\n SeniorCitizen        tenure      MultipleLines      InternetService   \n Min.   :0.0000   Min.   : 1.00   Length:7032        Length:7032       \n 1st Qu.:0.0000   1st Qu.: 9.00   Class :character   Class :character  \n Median :0.0000   Median :29.00   Mode  :character   Mode  :character  \n Mean   :0.1624   Mean   :32.42                                        \n 3rd Qu.:0.0000   3rd Qu.:55.00                                        \n Max.   :1.0000   Max.   :72.00                                        \n   Contract         PaperlessBilling   PaymentMethod       TotalCharges   \n Length:7032        Length:7032        Length:7032        Min.   :  18.8  \n Class :character   Class :character   Class :character   1st Qu.: 401.4  \n Mode  :character   Mode  :character   Mode  :character   Median :1397.5  \n                                                          Mean   :2283.3  \n                                                          3rd Qu.:3794.7  \n                                                          Max.   :8684.8  \n\n\nThese three customers, c(269,4266,4812), are identified as potential influential observations. This may be because they have longer than average tenure as customers, all close to the 75th percentile of tenure length among the entire dataset."
  },
  {
    "objectID": "static/customerchurn_prelim_da.html#linearity",
    "href": "static/customerchurn_prelim_da.html#linearity",
    "title": "TELCO Customer Churn",
    "section": "Linearity",
    "text": "Linearity\nRelationship between log-odds of Churn and numeric predictors. [Linearity of numeric predictors for logit models] (https://stats.stackexchange.com/questions/169348/how-should-i-check-the-assumption-of-linearity-to-the-logit-for-the-continuous-i)\n\nsummary(churn[,c('tenure','TotalCharges')])\n\n     tenure       TotalCharges   \n Min.   : 1.00   Min.   :  18.8  \n 1st Qu.: 9.00   1st Qu.: 401.4  \n Median :29.00   Median :1397.5  \n Mean   :32.42   Mean   :2283.3  \n 3rd Qu.:55.00   3rd Qu.:3794.7  \n Max.   :72.00   Max.   :8684.8  \n\n\n\npar(mfrow=c(1,2))\nchurn.fit.num &lt;- glm(Churn~tenure+TotalCharges,family=binomial(link=\"logit\"), data = churn)\n\nlog.odds &lt;- predict(churn.fit.num, type = \"link\")\n\nplot(churn$tenure,log.odds)\nplot(churn$TotalCharges,log.odds)\n\n\n\n\n\n\n\n\n\nodds &lt;- exp(log.odds)\n\nprobabilities &lt;- odds/(1+odds)"
  },
  {
    "objectID": "static/customerchurn_prelim_da.html#re-check-multicollinearity",
    "href": "static/customerchurn_prelim_da.html#re-check-multicollinearity",
    "title": "TELCO Customer Churn",
    "section": "Re-check Multicollinearity",
    "text": "Re-check Multicollinearity\n\ncond.index(churn.stepwise, data=churn)\n\n [1] 1.000000e+00 1.372306e+00 2.238997e+00 2.566460e+00 2.837376e+00\n [6] 2.951097e+00 3.286880e+00 3.574375e+00 3.943486e+00 4.141395e+00\n[11] 4.519665e+00 4.935432e+00 5.210376e+00 5.864349e+00 7.229496e+00\n[16] 1.119355e+01 1.709818e+01 3.861473e+08 8.428337e+08 2.159073e+09\n\ncond.index(churn.stepwise.1, data=churn)\n\n [1] 1.000000e+00 1.482721e+00 2.141341e+00 2.450337e+00 2.707356e+00\n [6] 2.821385e+00 3.149718e+00 3.416094e+00 3.881858e+00 3.962582e+00\n[11] 4.613957e+00 4.927430e+00 5.648598e+00 6.874077e+00 1.069470e+01\n[16] 1.555776e+01 3.044554e+08 6.123331e+08\n\ncond.index(churn.stepwise.2, data=churn)\n\n [1] 1.000000e+00 1.647890e+00 2.157724e+00 2.369799e+00 2.598730e+00\n [6] 2.762392e+00 3.033465e+00 3.290736e+00 3.759132e+00 4.364566e+00\n[11] 4.731612e+00 5.384280e+00 6.597211e+00 1.022308e+01 1.443900e+01\n[16] 4.363788e+08\n\ncond.index(churn.fit.reduced, data=churn)\n\n [1]  1.000000  1.851448  2.188398  2.371296  2.496958  2.842187  3.032654\n [8]  3.195287  4.156824  4.535447  5.204044  6.324844  9.710559 13.676272"
  },
  {
    "objectID": "static/customerchurn_prelim_da.html#logistic-regression",
    "href": "static/customerchurn_prelim_da.html#logistic-regression",
    "title": "TELCO Customer Churn",
    "section": "Logistic Regression",
    "text": "Logistic Regression\n\nchurn.logreg &lt;- glm(Churn~SeniorCitizen+tenure+MultipleLines+InternetService+Contract+PaperlessBilling+PaymentMethod+TotalCharges,\n    family=binomial(link=\"logit\"),\n    data = churn)\n\nsummary(churn.logreg)\n\n\nCall:\nglm(formula = Churn ~ SeniorCitizen + tenure + MultipleLines + \n    InternetService + Contract + PaperlessBilling + PaymentMethod + \n    TotalCharges, family = binomial(link = \"logit\"), data = churn)\n\nCoefficients:\n                                       Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)                          -0.7524686  0.1216481  -6.186 6.19e-10 ***\nSeniorCitizen                         0.2838042  0.0820511   3.459 0.000542 ***\ntenure                               -0.0623101  0.0059172 -10.530  &lt; 2e-16 ***\nMultipleLinesNo phone service         0.7163172  0.1296922   5.523 3.33e-08 ***\nMultipleLinesYes                      0.2794728  0.0788261   3.545 0.000392 ***\nInternetServiceFiber optic            0.9105034  0.0951849   9.566  &lt; 2e-16 ***\nInternetServiceNo                    -0.5347664  0.1307872  -4.089 4.34e-05 ***\nContractOne year                     -0.7177526  0.1051426  -6.826 8.70e-12 ***\nContractTwo year                     -1.5309937  0.1736988  -8.814  &lt; 2e-16 ***\nPaperlessBillingYes                   0.3843680  0.0734646   5.232 1.68e-07 ***\nPaymentMethodCredit card (automatic) -0.0969663  0.1131124  -0.857 0.391303    \nPaymentMethodElectronic check         0.3697148  0.0934143   3.958 7.56e-05 ***\nPaymentMethodMailed check            -0.0803387  0.1135281  -0.708 0.479160    \nTotalCharges                          0.0003168  0.0000630   5.029 4.94e-07 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 8143.4  on 7031  degrees of freedom\nResidual deviance: 5899.8  on 7018  degrees of freedom\nAIC: 5927.8\n\nNumber of Fisher Scoring iterations: 6\n\nbroom::tidy(churn.logreg)\n\n# A tibble: 14 × 5\n   term                                  estimate std.error statistic  p.value\n   &lt;chr&gt;                                    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n 1 (Intercept)                          -0.752    0.122        -6.19  6.19e-10\n 2 SeniorCitizen                         0.284    0.0821        3.46  5.42e- 4\n 3 tenure                               -0.0623   0.00592     -10.5   6.26e-26\n 4 MultipleLinesNo phone service         0.716    0.130         5.52  3.33e- 8\n 5 MultipleLinesYes                      0.279    0.0788        3.55  3.92e- 4\n 6 InternetServiceFiber optic            0.911    0.0952        9.57  1.12e-21\n 7 InternetServiceNo                    -0.535    0.131        -4.09  4.34e- 5\n 8 ContractOne year                     -0.718    0.105        -6.83  8.70e-12\n 9 ContractTwo year                     -1.53     0.174        -8.81  1.21e-18\n10 PaperlessBillingYes                   0.384    0.0735        5.23  1.68e- 7\n11 PaymentMethodCredit card (automatic) -0.0970   0.113        -0.857 3.91e- 1\n12 PaymentMethodElectronic check         0.370    0.0934        3.96  7.56e- 5\n13 PaymentMethodMailed check            -0.0803   0.114        -0.708 4.79e- 1\n14 TotalCharges                          0.000317 0.0000630     5.03  4.94e- 7\n\n\nThe polynomial model is significantly better.\n\nlog.odds &lt;- coef(churn.logreg)    \nodds &lt;- exp(coef(churn.logreg))\nprob &lt;- odds/(1+odds)\ncbind(log.odds, odds, prob)\n\n                                          log.odds      odds      prob\n(Intercept)                          -0.7524685955 0.4712019 0.3202836\nSeniorCitizen                         0.2838041796 1.3281728 0.5704786\ntenure                               -0.0623100773 0.9395915 0.4844275\nMultipleLinesNo phone service         0.7163171797 2.0468810 0.6717955\nMultipleLinesYes                      0.2794728130 1.3224325 0.5694170\nInternetServiceFiber optic            0.9105034442 2.4855736 0.7131032\nInternetServiceNo                    -0.5347664326 0.5858061 0.3694059\nContractOne year                     -0.7177525891 0.4878474 0.3278881\nContractTwo year                     -1.5309937176 0.2163206 0.1778483\nPaperlessBillingYes                   0.3843680352 1.4686859 0.5949262\nPaymentMethodCredit card (automatic) -0.0969662899 0.9075866 0.4757774\nPaymentMethodElectronic check         0.3697148405 1.4473218 0.5913901\nPaymentMethodMailed check            -0.0803387365 0.9228037 0.4799261\nTotalCharges                          0.0003168002 1.0003169 0.5000792\n\n\n\nTest/Train Split\n\nset.seed(1)\nn &lt;- nrow(churn)\ntrain &lt;- sample(n,n*0.60)\n\n\n\nLinear Variables\n\nchurn.logreg.linear.train &lt;- glm(Churn ~ SeniorCitizen + tenure + MultipleLines + InternetService + Contract + PaperlessBilling + PaymentMethod + TotalCharges,\n    family=binomial(link=\"logit\"),\n    data = churn[train,])\n\nprobs &lt;- predict(churn.logreg.linear.train, churn[-train,], type = \"response\")\n# Lowered the threshold manually to 0.35 just by trial and error\npreds &lt;- ifelse(probs&gt;0.35, 1, 0)\nconf.mat &lt;- table(preds, churn$Churn[-train])\n\nTruN=conf.mat[1,1] # True negatives, row 1 col 1\nTruP=conf.mat[2,2] # True positives, row 2 col 2\nFalP=conf.mat[2,1] # False positives, etc.\nFalN=conf.mat[1,2] # False negatives\nTotN=conf.mat[1,1] + conf.mat[2,1] # Total negatives\nTotP=conf.mat[1,2] + conf.mat[2,2] # Total positives\nTot=TotN+TotP # Matrix total\n\nAccuracy=(TruN+TruP)/Tot\nError=(FalN+FalP)/Tot\nSensitivity=TruP/TotP # Proportion of correct positives\nSpecificity=TruN/TotN # Proportion of correct negatives\nFalPos = 1 - Specificity\n\nprint(c(\"Accuracy\"=Accuracy,\n        \"Error\"=Error,\n        \"Sensitivity\"=Sensitivity,\n        \"Specificity\"=Specificity,\n        \"False Positives\"=FalPos), digits=2) # Prints fewer digits\n\n       Accuracy           Error     Sensitivity     Specificity False Positives \n           0.77            0.23            0.70            0.80            0.20 \n\nlogreg.linear.rates &lt;- c(\"Accuracy\"=Accuracy,\n        \"Error\"=Error,\n        \"Sensitivity\"=Sensitivity,\n        \"Specificity\"=Specificity,\n        \"False Positives\"=FalPos)\n\npred &lt;- prediction(preds,churn$Churn[-train])\nperf &lt;- performance(pred,\"tpr\",\"fpr\")\nplot(perf,colorize=T)\n\n\n\n\n\n\n\nauc &lt;- performance(pred,\"auc\")\nc(auc@y.name[[1]], auc@y.values[[1]])\n\n[1] \"Area under the ROC curve\" \"0.752133952220864\""
  },
  {
    "objectID": "static/customerchurn_prelim_da.html#linear-discriminant-analysis",
    "href": "static/customerchurn_prelim_da.html#linear-discriminant-analysis",
    "title": "TELCO Customer Churn",
    "section": "Linear Discriminant Analysis",
    "text": "Linear Discriminant Analysis\n\nchurn.lda &lt;- lda(Churn ~ SeniorCitizen + tenure + MultipleLines + InternetService + Contract + PaperlessBilling + PaymentMethod + TotalCharges,\n    data = churn[train,])\n\n\npreds &lt;- predict(churn.lda,churn[-train,])$posterior[,2]\npreds &lt;- ifelse(preds &gt; 0.35, 1, 0)\n\nconf.mat &lt;- table(preds, churn$Churn[-train])\n\nTruN=conf.mat[1,1] # True negatives, row 1 col 1\nTruP=conf.mat[2,2] # True positives, row 2 col 2\nFalP=conf.mat[2,1] # False positives, etc.\nFalN=conf.mat[1,2] # False negatives\nTotN=conf.mat[1,1] + conf.mat[2,1] # Total negatives\nTotP=conf.mat[1,2] + conf.mat[2,2] # Total positives\nTot=TotN+TotP # Matrix total\n\nAccuracy=(TruN+TruP)/Tot\nError=(FalN+FalP)/Tot\nSensitivity=TruP/TotP # Proportion of correct positives\nSpecificity=TruN/TotN # Proportion of correct negatives\nFalPos = 1 - Specificity\n\nprint(c(\"Accuracy\"=Accuracy,\n        \"Error\"=Error,\n        \"Sensitivity\"=Sensitivity,\n        \"Specificity\"=Specificity,\n        \"False Positives\"=FalPos), digits=2) # Prints fewer digits\n\n       Accuracy           Error     Sensitivity     Specificity False Positives \n           0.78            0.22            0.67            0.82            0.18 \n\nlda.rates &lt;- c(\"Accuracy\"=Accuracy,\n        \"Error\"=Error,\n        \"Sensitivity\"=Sensitivity,\n        \"Specificity\"=Specificity,\n        \"False Positives\"=FalPos)\n\n\npred &lt;- prediction(preds,churn$Churn[-train])\nperf &lt;- performance(pred,\"tpr\",\"fpr\")\nplot(perf,colorize=T)\n\n\n\n\n\n\n\nauc &lt;- performance(pred,\"auc\")\nc(auc@y.name[[1]], auc@y.values[[1]])\n\n[1] \"Area under the ROC curve\" \"0.745390497656887\""
  },
  {
    "objectID": "static/customerchurn_prelim_da.html#random-forest",
    "href": "static/customerchurn_prelim_da.html#random-forest",
    "title": "TELCO Customer Churn",
    "section": "Random Forest",
    "text": "Random Forest\n\nset.seed(123)\nchurn.rf &lt;- randomForest(as.factor(Churn) ~ SeniorCitizen + tenure + MultipleLines + InternetService + Contract + PaperlessBilling + PaymentMethod + TotalCharges,\n    data = churn[train,],\n    importance=T,\n    mtry=8)\n\nplot(churn.rf)\n\n\n\n\n\n\n\nvarImpPlot(churn.rf) \n\n\n\n\n\n\n\nimportance(churn.rf)\n\n                           0          1 MeanDecreaseAccuracy MeanDecreaseGini\nSeniorCitizen     23.5077591  0.7560151            19.563656         47.31397\ntenure            32.9029022 23.3693999            58.278776        277.99436\nMultipleLines      0.9373841 10.7603795             8.315747         48.39879\nInternetService   13.7052240 52.6497915            51.015557        108.51806\nContract         -22.9653530 78.9509570            39.353273        276.79717\nPaperlessBilling   0.8453461 16.2492299            11.320629         53.43850\nPaymentMethod     -0.4391000 15.8995179            10.606852        105.40043\nTotalCharges      20.2527629  5.7149302            30.235313        699.33935\n\n\n\n# Learned how to produce probabilites from trees here: https://stackoverflow.com/questions/64651101/is-there-a-way-to-change-threshold-of-a-classification-within-a-model-in-caret-r\npreds &lt;- predict(churn.rf,churn[-train,], type = \"prob\")[,2]\npreds &lt;- ifelse(probs&gt;0.35, 1, 0)\nconf.mat &lt;- table(preds, churn$Churn[-train])\n\nTruN=conf.mat[1,1] # True negatives, row 1 col 1\nTruP=conf.mat[2,2] # True positives, row 2 col 2\nFalP=conf.mat[2,1] # False positives, etc.\nFalN=conf.mat[1,2] # False negatives\nTotN=conf.mat[1,1] + conf.mat[2,1] # Total negatives\nTotP=conf.mat[1,2] + conf.mat[2,2] # Total positives\nTot=TotN+TotP # Matrix total\n\nAccuracy=(TruN+TruP)/Tot\nError=(FalN+FalP)/Tot\nSensitivity=TruP/TotP # Proportion of correct positives\nSpecificity=TruN/TotN # Proportion of correct negatives\nFalPos = 1 - Specificity\n\nprint(c(\"Accuracy\"=Accuracy,\n        \"Error\"=Error,\n        \"Sensitivity\"=Sensitivity,\n        \"Specificity\"=Specificity,\n        \"False Positives\"=FalPos), digits=2) # Prints fewer digits\n\n       Accuracy           Error     Sensitivity     Specificity False Positives \n           0.77            0.23            0.70            0.80            0.20 \n\nrf.rates &lt;- c(\"Accuracy\"=Accuracy,\n        \"Error\"=Error,\n        \"Sensitivity\"=Sensitivity,\n        \"Specificity\"=Specificity,\n        \"False Positives\"=FalPos)\n\n\n# convert preds to numeric\npreds &lt;- ifelse(as.character(preds) == '0',0,1)\n\npred &lt;- prediction(preds,churn$Churn[-train])\nperf &lt;- performance(pred,\"tpr\",\"fpr\")\nplot(perf,colorize=T)\n\n\n\n\n\n\n\nauc &lt;- performance(pred,\"auc\")\nc(auc@y.name[[1]], auc@y.values[[1]])\n\n[1] \"Area under the ROC curve\" \"0.752133952220864\""
  },
  {
    "objectID": "posts/nhl/index.html",
    "href": "posts/nhl/index.html",
    "title": "NHL Majority Goal Win Classification",
    "section": "",
    "text": "Introduction\nFor this project, I worked with a fellow classmate to build a classification model to National Hockey League game wins.\nCourse: STAT 627 “Statistical Machine Learning”\n\n\n\nObjective\nTo classify whether an NHL team would win the majority of goals in a game (even-strength play only), using shot quality and gameplay statistics. The goal was to build a high-performing, interpretable classification model to support data-driven coaching strategies.\n\n\n\n\nTarget Variable\n\nxresult: A binary variable indicating if a team won the majority of expected goals in a game.\n\n\n\n\nKey Predictors\n\nfenwickPercentage: Possession metric based on unblocked shot attempts\nhighDangerxGoalsFor and highDangerxGoalsAgainst: Expected goals from high-quality shots\nxGoalsFromxReboundsOfShotsFor: Rebounds contributing to expected goals\nshotAttemptsFor: Total offensive attempts\nhome_or_away: Game location indicator\n\n\n\n\nModels Evaluated\n\nLogistic Regression\n\nLogistic Regression with Polynomial Terms\n\nLinear Discriminant Analysis (LDA)\n\nQuadratic Discriminant Analysis (QDA)\n\nK-Nearest Neighbors (K = 42)\n\nAll models were tested on: - A 50/50 train-test split - 10-fold cross-validation (and LOOCV where applicable)\n\n\n\nModel Performance\n\n\n\nModel\nAccuracy\n\n\n\n\nLogistic Regression (10-fold CV)\n0.898\n\n\nLogistic Poly (10-fold CV)\n0.899\n\n\nLDA (Test/Train & LOOCV)\n0.893\n\n\nQDA\n~0.886\n\n\nKNN (K=42)\n0.841\n\n\n\nTop performer: Logistic regression with polynomial terms and 10-fold cross-validation, with ~90% accuracy.\n\n\n\nKey Findings\n\nPlaying at home significantly improves chances of winning goal majority.\nHigher Fenwick Percentage (better quality possession) is a strong positive predictor.\nMore shot attempts (regardless of quality) actually decrease likelihood of winning.\nShot quality (not just quantity)—especially rebounds and high-danger chances—strongly influence classification success.\n\n\n\n\nImplications\n\nCoaches should emphasize high-quality shot creation and possession control, not just total shot volume.\nThe logistic model’s interpretability makes it a useful tool for real-time or season-long strategy planning.\nGame location and rebound behavior should inform scouting reports and line changes.\n\n\n\n\nLimitations\n\nResults reflect only even-strength play—special teams (power play, penalty kill) are not included.\nThe xresult target is based on expected goals, not actual score outcomes.\n\n\n\nComplete Analysis\nI authored the following R code to arrive at the insights summarized above."
  }
]